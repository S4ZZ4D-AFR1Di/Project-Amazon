;/*FB_PKG_DELIM*/

/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-isomorphic-layout-effect-1.1.2",["react-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();a="undefined"!=typeof document?a.useLayoutEffect:a.useEffect;h["default"]=a}var k=!1;function l(){k||(k=!0,j());return i.exports}d={};var m={exports:d};function n(){m.exports=l()}var o=!1;function p(){o||(o=!0,n());return m.exports}function c(a){switch(a){case void 0:return p()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-sync-external-store-1.2.0",["react-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h={},i={exports:h};function j(){var a=g().useSyncExternalStore;h.useSyncExternalStore=a}var k=!1;function l(){k||(k=!0,j());return i.exports}d={};var m={exports:d};function n(){m.exports=l()}var o=!1;function p(){o||(o=!0,n());return m.exports}var q={},r={exports:q};function s(){var a=g();function b(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var c="function"===typeof Object.is?Object.is:b,d=a.useState,e=a.useEffect,f=a.useLayoutEffect,h=a.useDebugValue;function i(a,b){var c=b(),g=d({inst:{value:c,getSnapshot:b}}),i=g[0].inst,k=g[1];f(function(){i.value=c,i.getSnapshot=b,j(i)&&k({inst:i})},[a,c,b]);e(function(){j(i)&&k({inst:i});return a(function(){j(i)&&k({inst:i})})},[a]);h(c);return c}function j(a){var b=a.getSnapshot;a=a.value;try{b=b();return!c(a,b)}catch(a){return!0}}function k(a,b){return b()}b="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?k:i;q.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:b}var t=!1;function u(){t||(t=!0,s());return r.exports}f={};var v={exports:f};function w(){v.exports=u()}var x=!1;function y(){x||(x=!0,w());return v.exports}function c(a){switch(a){case void 0:return p();case"/shim":return y()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-subscription-1.8.0",["use-sync-external-store-1.2.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("use-sync-external-store-1.2.0")),h={},i={exports:h};function j(){var a=g("/shim");h.useSubscription=function(b){return a.useSyncExternalStore(b.subscribe,b.getCurrentValue)}}var k=!1;function l(){k||(k=!0,j());return i.exports}d={};var m={exports:d};function n(){m.exports=l()}var o=!1;function p(){o||(o=!0,n());return m.exports}function c(a){switch(a){case void 0:return p()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("xstate-4.35.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g.__assign=function(){g.__assign=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return g.__assign.apply(this,arguments)};function a(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.indexOf(d)<0&&(c[d]=a[d]);if(a!=null&&typeof Object.getOwnPropertySymbols==="function")for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)b.indexOf(d[e])<0&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function b(a){var b=typeof Symbol==="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length==="number")return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e}function d(a,b,c){if(c||arguments.length===2)for(var d=0,e=b.length,f;d<e;d++)(f||!(d in b))&&(f||(f=Array.prototype.slice.call(b,0,d)),f[d]=b[d]);return a.concat(f||Array.prototype.slice.call(b))}g.__read=c;g.__rest=a;g.__spreadArray=d;g.__values=b}var j=!1;function k(){j||(j=!0,i());return h.exports}var l={},m={exports:l};function n(){Object.defineProperty(l,"__esModule",{value:!0}),l.ActionTypes=void 0,(function(a){a.Start="xstate.start",a.Stop="xstate.stop",a.Raise="xstate.raise",a.Send="xstate.send",a.Cancel="xstate.cancel",a.NullEvent="",a.Assign="xstate.assign",a.After="xstate.after",a.DoneState="done.state",a.DoneInvoke="done.invoke",a.Log="xstate.log",a.Init="xstate.init",a.Invoke="xstate.invoke",a.ErrorExecution="error.execution",a.ErrorCommunication="error.communication",a.ErrorPlatform="error.platform",a.ErrorCustom="xstate.error",a.Update="xstate.update",a.Pure="xstate.pure",a.Choose="xstate.choose"})(l.ActionTypes||(l.ActionTypes={})),l.SpecialTargets=void 0,(function(a){a.Parent="#_parent",a.Internal="#_internal"})(l.SpecialTargets||(l.SpecialTargets={}))}var o=!1;function p(){o||(o=!0,n());return m.exports}var q={},r={exports:q};function s(){Object.defineProperty(q,"__esModule",{value:!0});var a=p(),b=a.ActionTypes.Start,c=a.ActionTypes.Stop,d=a.ActionTypes.Raise,e=a.ActionTypes.Send,f=a.ActionTypes.Cancel,g=a.ActionTypes.NullEvent,h=a.ActionTypes.Assign,i=a.ActionTypes.After,j=a.ActionTypes.DoneState,k=a.ActionTypes.Log,l=a.ActionTypes.Init,m=a.ActionTypes.Invoke,n=a.ActionTypes.ErrorExecution,o=a.ActionTypes.ErrorPlatform,r=a.ActionTypes.ErrorCustom,s=a.ActionTypes.Update,t=a.ActionTypes.Choose;a=a.ActionTypes.Pure;q.after=i;q.assign=h;q.cancel=f;q.choose=t;q.doneState=j;q.error=r;q.errorExecution=n;q.errorPlatform=o;q.init=l;q.invoke=m;q.log=k;q.nullEvent=g;q.pure=a;q.raise=d;q.send=e;q.start=b;q.stop=c;q.update=s}var t=!1;function u(){t||(t=!0,s());return r.exports}var v={},w={exports:v};function x(){Object.defineProperty(v,"__esModule",{value:!0});var a=".",b={},c="xstate.guard",d="";v.DEFAULT_GUARD_TYPE=c;v.EMPTY_ACTIVITY_MAP=b;v.STATE_DELIMITER=a;v.TARGETLESS_KEY=d}var y=!1;function z(){y||(y=!0,x());return w.exports}var A={},B={exports:A};function C(){Object.defineProperty(A,"__esModule",{value:!0});var a=!0;A.IS_PRODUCTION=a}var D=!1;function E(){D||(D=!0,C());return B.exports}var F={},G={exports:F};function H(){Object.defineProperty(F,"__esModule",{value:!0});var a=k(),b=z(),c=E(),d;function e(a){return Object.keys(a)}function f(a,c,d){d===void 0&&(d=b.STATE_DELIMITER);var e=l(a,d),g=l(c,d);if(J(g))return J(e)?g===e:!1;return J(e)?e in g:Object.keys(e).every(function(a){return!(a in g)?!1:f(e[a],g[a])})}function g(a){try{return J(a)||typeof a==="number"?"".concat(a):a.type}catch(a){throw new Error("Events must be strings or objects with a string event.type property.")}}function h(a){try{return J(a)||typeof a==="number"?"".concat(a):I(a)?a.name:a.type}catch(a){throw new Error("Actions must be strings or objects with a string action.type property.")}}function i(a,b){try{return H(a)?a:a.toString().split(b)}catch(b){throw new Error("'".concat(a,"' is not a valid state path."))}}function j(a){return typeof a==="object"&&"value"in a&&"context"in a&&"event"in a&&"_event"in a}function l(a,b){if(j(a))return a.value;if(H(a))return m(a);if(typeof a!=="string")return a;a=i(a,b);return m(a)}function m(a){if(a.length===1)return a[0];var b={},c=b;for(var d=0;d<a.length-1;d++)d===a.length-2?c[a[d]]=a[d+1]:(c[a[d]]={},c=c[a[d]]);return b}function n(a,b){var c={},d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];c[f]=b(a[f],f,a,e)}return c}function o(c,d,e){var f,b,g={};try{for(var h=a.__values(Object.keys(c)),i=h.next();!i.done;i=h.next()){var j=i.value,k=c[j];if(!e(k))continue;g[j]=d(k,j,c)}}catch(a){f={error:a}}finally{try{i&&!i.done&&(b=h["return"])&&b.call(h)}finally{if(f)throw f.error}}return g}var p=function(b){return function(d){var e,c;d=d;try{for(var f=a.__values(b),g=f.next();!g.done;g=f.next()){var h=g.value;d=d[h]}}catch(a){e={error:a}}finally{try{g&&!g.done&&(c=f["return"])&&c.call(f)}finally{if(e)throw e.error}}return d}};function q(b,c){return function(e){var f,d;e=e;try{for(var g=a.__values(b),h=g.next();!h.done;h=g.next()){var i=h.value;e=e[c][i]}}catch(a){f={error:a}}finally{try{h&&!h.done&&(d=g["return"])&&d.call(g)}finally{if(f)throw f.error}}return e}}function r(a){if(!a)return[[]];if(J(a))return[[a]];var b=t(Object.keys(a).map(function(b){var c=a[b];return typeof c!=="string"&&(!c||!Object.keys(c).length)?[[b]]:r(a[b]).map(function(a){return[b].concat(a)})}));return b}function s(c){var d,b,e={};if(c&&c.length===1&&c[0].length===1)return c[0][0];try{for(var f=a.__values(c),g=f.next();!g.done;g=f.next()){c=g.value;var h=e;for(var i=0;i<c.length;i++){var j=c[i];if(i===c.length-2){h[j]=c[i+1];break}h[j]=h[j]||{};h=h[j]}}}catch(a){d={error:a}}finally{try{g&&!g.done&&(b=f["return"])&&b.call(f)}finally{if(d)throw d.error}}return e}function t(c){var b;return(b=[]).concat.apply(b,a.__spreadArray([],a.__read(c),!1))}function u(a){return H(a)?a:[a]}function v(a){return a===void 0?[]:u(a)}function w(c,d,e){var f,b;if(I(c))return c(d,e.data);var g={};try{for(var h=a.__values(Object.keys(c)),i=h.next();!i.done;i=h.next()){var j=i.value,k=c[j];I(k)?g[j]=k(d,e.data):g[j]=k}}catch(a){f={error:a}}finally{try{i&&!i.done&&(b=h["return"])&&b.call(h)}finally{if(f)throw f.error}}return g}function x(a){return/^(done|error)\./.test(a)}function y(a){if(a instanceof Promise)return!0;return a!==null&&(I(a)||typeof a==="object")&&I(a.then)?!0:!1}function A(a){return a!==null&&typeof a==="object"&&"transition"in a&&typeof a.transition==="function"}function B(c,d){var e,b,f=a.__read([[],[]],2),g=f[0];f=f[1];try{for(var h=a.__values(c),i=h.next();!i.done;i=h.next()){c=i.value;d(c)?g.push(c):f.push(c)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(b=h["return"])&&b.call(h)}finally{if(e)throw e.error}}return[g,f]}function C(a,b){return n(a.states,function(a,c){if(!a)return void 0;c=(J(b)?void 0:b[c])||(a?a.current:void 0);return!c?void 0:{current:c,states:C(a,c)}})}function D(a,b){return{current:b,states:C(a,b)}}function G(b,d,e,f){c.IS_PRODUCTION||F.warn(!!b,"Attempting to update undefined context");e=b?e.reduce(function(c,e){var g,b,h=e.assignment;e={state:f,action:e,_event:d};var i={};if(I(h))i=h(c,d.data,e);else try{for(var j=a.__values(Object.keys(h)),k=j.next();!k.done;k=j.next()){var l=k.value,m=h[l];i[l]=I(m)?m(c,d.data,e):m}}catch(a){g={error:a}}finally{try{k&&!k.done&&(b=j["return"])&&b.call(j)}finally{if(g)throw g.error}}return Object.assign({},c,i)},b):b;return e}F.warn=function(){};c.IS_PRODUCTION||(F.warn=function(a,b){var c=a instanceof Error?a:void 0;if(!c&&a)return;if(console!==void 0){a=["Warning: ".concat(b)];c&&a.push(c);emptyFunction.apply(console,a)}});function H(a){return Array.isArray(a)}function I(a){return typeof a==="function"}function J(a){return typeof a==="string"}function K(a,c){if(!a)return void 0;if(J(a))return{type:b.DEFAULT_GUARD_TYPE,name:a,predicate:c?c[a]:void 0};return I(a)?{type:b.DEFAULT_GUARD_TYPE,name:a.name,predicate:a}:a}function L(a){try{return"subscribe"in a&&I(a.subscribe)}catch(a){return!1}}var M=function(){return typeof Symbol==="function"&&Symbol.observable||"@@observable"}();d=(d={},d[M]=function(){return this},d[Symbol.observable]=function(){return this},d);function N(a){return!!a&&"__xstatenode"in a}function O(a){return!!a&&typeof a.send==="function"}var P=function(){var a=0;return function(){a++;return a.toString(16)}}();function Q(b,c){return J(b)||typeof b==="number"?a.__assign({type:b},c):b}function aa(b,c){if(!J(b)&&"$$type"in b&&b.$$type==="scxml")return b;b=Q(b);return a.__assign({name:b.type,data:b,$$type:"scxml",type:"external"},c)}function R(b,c){c=u(c).map(function(c){return typeof c==="undefined"||typeof c==="string"||N(c)?{target:c,event:b}:a.__assign(a.__assign({},c),{event:b})});return c}function S(a){return a===void 0||a===b.TARGETLESS_KEY?void 0:v(a)}function T(a,b,d){if(!c.IS_PRODUCTION){var e=a.stack?" Stacktrace was '".concat(a.stack,"'"):"";if(a===b)console.error("Missing onError handler for invocation '".concat(d,"', error was '").concat(a,"'.").concat(e));else var d=b.stack?" Stacktrace was '".concat(b.stack,"'"):""}}function ba(a,c,d,e,f){var g=a.options.guards;f={state:f,cond:c,_event:e};if(c.type===b.DEFAULT_GUARD_TYPE)return((g===null||g===void 0?void 0:g[c.name])||c.predicate)(d,e.data,f);g=g===null||g===void 0?void 0:g[c.type];if(!g)throw new Error("Guard '".concat(c.type,"' is not implemented on machine '").concat(a.id,"'."));return g(d,e.data,f)}function ca(a){return typeof a==="string"?{type:a}:a}function U(a,b,c){var d=function(){},e=typeof a==="object",f=e?a:null;return{next:((e?a.next:a)||d).bind(f),error:((e?a.error:b)||d).bind(f),complete:((e?a.complete:c)||d).bind(f)}}function V(a,b){return"".concat(a,":invocation[").concat(b,"]")}F.createInvokeId=V;F.evaluateGuard=ba;F.flatten=t;F.getActionType=h;F.getEventType=g;F.interopSymbols=d;F.isActor=O;F.isArray=H;F.isBehavior=A;F.isBuiltInEvent=x;F.isFunction=I;F.isMachine=N;F.isObservable=L;F.isPromiseLike=y;F.isStateLike=j;F.isString=J;F.keys=e;F.mapContext=w;F.mapFilterValues=o;F.mapValues=n;F.matchesState=f;F.nestedPath=q;F.normalizeTarget=S;F.partition=B;F.path=p;F.pathToStateValue=m;F.pathsToStateValue=s;F.reportUnhandledExceptionOnInvocation=T;F.symbolObservable=M;F.toArray=v;F.toArrayStrict=u;F.toEventObject=Q;F.toGuard=K;F.toInvokeSource=ca;F.toObserver=U;F.toSCXMLEvent=aa;F.toStatePath=i;F.toStatePaths=r;F.toStateValue=l;F.toTransitionConfigArray=R;F.uniqueId=P;F.updateContext=G;F.updateHistoryStates=C;F.updateHistoryValue=D}var I=!1;function J(){I||(I=!0,H());return G.exports}var K={},L={exports:K};function M(){Object.defineProperty(K,"__esModule",{value:!0});var a=k(),b=p(),c=u(),d=J(),e=E(),f=d.toSCXMLEvent({type:c.init});function g(a,b){return b?b[a]||void 0:void 0}function h(b,c){var e;if(d.isString(b)||typeof b==="number"){var f=g(b,c);d.isFunction(f)?e={type:b,exec:f}:f?e=f:e={type:b,exec:void 0}}else if(d.isFunction(b))e={type:b.name||b.toString(),exec:b};else{var f=g(b.type,c);if(d.isFunction(f))e=a.__assign(a.__assign({},b),{exec:f});else if(f){c=f.type||b.type;e=a.__assign(a.__assign(a.__assign({},f),b),{type:c})}else e=b}return e}var i=function(a,b){if(!a)return[];a=d.isArray(a)?a:[a];return a.map(function(a){return h(a,b)})};function j(b){var c=h(b);return a.__assign(a.__assign({id:d.isString(b)?b:c.id},c),{type:c.type})}function l(a){return!d.isString(a)?n(a,{to:b.SpecialTargets.Internal}):{type:c.raise,event:a}}function m(a){return{type:c.raise,_event:d.toSCXMLEvent(a.event)}}function n(a,b){return{to:b?b.to:void 0,type:c.send,event:d.isFunction(a)?a:d.toEventObject(a),delay:b?b.delay:void 0,id:b&&b.id!==void 0?b.id:d.isFunction(a)?a.name:d.getEventType(a)}}function o(b,c,e,f){var g={_event:e},h=d.toSCXMLEvent(d.isFunction(b.event)?b.event(c,e.data,g):b.event);if(d.isString(b.delay)){f=f&&f[b.delay];f=d.isFunction(f)?f(c,e.data,g):f}else f=d.isFunction(b.delay)?b.delay(c,e.data,g):b.delay;c=d.isFunction(b.to)?b.to(c,e.data,g):b.to;return a.__assign(a.__assign({},b),{to:c,_event:h,event:h.data,delay:f})}function q(c,d){return n(c,a.__assign(a.__assign({},d),{to:b.SpecialTargets.Parent}))}function r(b,c,d){return n(c,a.__assign(a.__assign({},d),{to:b}))}function s(){return q(c.update)}function t(b,c){return n(b,a.__assign(a.__assign({},c),{to:function(a,b,c){a=c._event;return a.origin}}))}var v=function(a,b){return{context:a,event:b}};function w(a,b){a===void 0&&(a=v);return{type:c.log,label:b,expr:a}}var x=function(b,c,e){return a.__assign(a.__assign({},b),{value:d.isString(b.expr)?b.expr:b.expr(c,e.data,{_event:e})})},y=function(a){return{type:c.cancel,sendId:a}};function z(a){a=j(a);return{type:b.ActionTypes.Start,activity:a,exec:void 0}}function A(a){a=d.isFunction(a)?a:j(a);return{type:b.ActionTypes.Stop,activity:a,exec:void 0}}function B(a,c,e){c=d.isFunction(a.activity)?a.activity(c,e.data):a.activity;e=typeof c==="string"?{id:c}:c;a={type:b.ActionTypes.Stop,activity:e};return a}var C=function(a){return{type:c.assign,assignment:a}};function D(a){return typeof a==="object"&&"type"in a}function F(a,c){c=c?"#".concat(c):"";return"".concat(b.ActionTypes.After,"(").concat(a,")").concat(c)}function G(a,c){var d="".concat(b.ActionTypes.DoneState,".").concat(a);a={type:d,data:c};a.toString=function(){return d};return a}function H(a,c){var d="".concat(b.ActionTypes.DoneInvoke,".").concat(a);a={type:d,data:c};a.toString=function(){return d};return a}function I(a,c){var d="".concat(b.ActionTypes.ErrorPlatform,".").concat(a);a={type:d,data:c};a.toString=function(){return d};return a}function L(a){return{type:b.ActionTypes.Pure,get:a}}function M(b,c){if(!e.IS_PRODUCTION&&(!b||typeof b==="function")){var d=b;b=function(){var b=[];for(var c=0;c<arguments.length;c++)b[c]=arguments[c];var e=typeof d==="function"?d.apply(void 0,a.__spreadArray([],a.__read(b),!1)):d;if(!e)throw new Error("Attempted to forward event to undefined actor. This risks an infinite loop in the sender.");return e}}return n(function(a,b){return b},a.__assign(a.__assign({},c),{to:b}))}function N(e,f){return q(function(a,b,f){return{type:c.error,data:d.isFunction(e)?e(a,b,f):e}},a.__assign(a.__assign({},f),{to:b.SpecialTargets.Parent}))}function O(a){return{type:b.ActionTypes.Choose,conds:a}}var P=function(b){var d,e,f=[];try{for(var g=a.__values(b),h=g.next();!h.done;h=g.next()){b=h.value;var i=0;while(i<b.actions.length){if(b.actions[i].type===c.assign){f.push(b.actions[i]);b.actions.splice(i,1);continue}i++}}}catch(a){d={error:a}}finally{try{h&&!h.done&&(e=g["return"])&&e.call(g)}finally{if(d)throw d.error}}return f};function Q(f,g,j,k,l,n,p){p===void 0&&(p=!1);var q=p?[]:P(l),r=q.length?d.updateContext(j,k,q,g):j,s=p?[j]:void 0,t=[];function u(l,q){switch(q.type){case c.raise:return m(q);case c.send:var u=o(q,r,k,f.options.delays);e.IS_PRODUCTION||d.warn(!d.isString(q.delay)||typeof u.delay==="number","No delay reference for delay expression '".concat(q.delay,"' was found on machine '").concat(f.id,"'"));n&&u.to!==b.SpecialTargets.Internal&&(l==="entry"?t.push(u):n===null||n===void 0?void 0:n(u,r,k));return u;case c.log:u=x(q,r,k);n===null||n===void 0?void 0:n(u,r,k);return u;case c.choose:var v=q;v=(v=v.conds.find(function(a){a=d.toGuard(a.cond,f.options.guards);return!a||d.evaluateGuard(f,a,r,k,n?void 0:g)}))===null||v===void 0?void 0:v.actions;if(!v)return[];var w=a.__read(Q(f,g,r,k,[{type:l,actions:i(d.toArray(v),f.options.actions)}],n,p),2),y=w[0];w=w[1];r=w;s===null||s===void 0?void 0:s.push(r);return y;case c.pure:v=q.get(r,k.data);if(!v)return[];w=a.__read(Q(f,g,r,k,[{type:l,actions:i(d.toArray(v),f.options.actions)}],n,p),2);y=w[0];l=w[1];r=l;s===null||s===void 0?void 0:s.push(r);return y;case c.stop:u=B(q,r,k);n===null||n===void 0?void 0:n(u,j,k);return u;case c.assign:r=d.updateContext(r,k,[q],n?void 0:g);s===null||s===void 0?void 0:s.push(r);break;default:v=h(q,f.options.actions);var z=v.exec;if(n)n(v,r,k);else if(z&&s){var A=s.length-1;v=a.__assign(a.__assign({},v),{exec:function(b){var c=[];for(var d=1;d<arguments.length;d++)c[d-1]=arguments[d];z.apply(void 0,a.__spreadArray([s[A]],a.__read(c),!1))}})}return v}}function v(b){var c,d,e=[];try{for(var f=a.__values(b.actions),g=f.next();!g.done;g=f.next()){var h=g.value;h=u(b.type,h);h&&(e=e.concat(h))}}catch(a){c={error:a}}finally{try{g&&!g.done&&(d=f["return"])&&d.call(f)}finally{if(c)throw c.error}}t.forEach(function(a){n(a,r,k)});t.length=0;return e}q=d.flatten(l.map(v));return[q,r]}K.actionTypes=c;K.after=F;K.assign=C;K.cancel=y;K.choose=O;K.done=G;K.doneInvoke=H;K.error=I;K.escalate=N;K.forwardTo=M;K.getActionFunction=g;K.initEvent=f;K.isActionObject=D;K.log=w;K.pure=L;K.raise=l;K.resolveActions=Q;K.resolveLog=x;K.resolveRaise=m;K.resolveSend=o;K.resolveStop=B;K.respond=t;K.send=n;K.sendParent=q;K.sendTo=r;K.sendUpdate=s;K.start=z;K.stop=A;K.toActionObject=h;K.toActionObjects=i;K.toActivityDefinition=j}var N=!1;function O(){N||(N=!0,M());return L.exports}var P={},Q={exports:P};function aa(){Object.defineProperty(P,"__esModule",{value:!0});var a=[],b=function(b,c){a.push(b);c=c(b);a.pop();return c},c=function(b){return b(a[a.length-1])};P.consume=c;P.provide=b}var R=!1;function S(){R||(R=!0,aa());return Q.exports}var T={},ba={exports:T};function ca(){Object.defineProperty(T,"__esModule",{value:!0});var a=k(),b=J(),c=S();function d(a){var c;return c={id:a,send:function(){return void 0},subscribe:function(){return{unsubscribe:function(){return void 0}}},getSnapshot:function(){return void 0},toJSON:function(){return{id:a}}},c[b.symbolObservable]=function(){return this},c}function e(a,c,e,g){var h=b.toInvokeSource(a.src);c=(c=c===null||c===void 0?void 0:c.options.services)===null||c===void 0?void 0:c[h.type];h=a.data?b.mapContext(a.data,e,g):void 0;e=c?f(c,a.id,h):d(a.id);e.meta=a;return e}function f(a,e,f){e=d(e);e.deferred=!0;if(b.isMachine(a)){var g=e.state=c.provide(void 0,function(){return(f?a.withContext(f):a).initialState});e.getSnapshot=function(){return g}}return e}function g(a){try{return typeof a.send==="function"}catch(a){return!1}}function h(a){return g(a)&&"id"in a}function i(c){var d;return a.__assign((d={subscribe:function(){return{unsubscribe:function(){return void 0}}},id:"anonymous",getSnapshot:function(){return void 0}},d[b.symbolObservable]=function(){return this},d),c)}T.createDeferredActor=f;T.createInvocableActor=e;T.createNullActor=d;T.isActor=g;T.isSpawnedActor=h;T.toActorRef=i}var U=!1;function V(){U||(U=!0,ca());return ba.exports}var W={},da={exports:W};function ea(){Object.defineProperty(W,"__esModule",{value:!0});var a=k(),b=J(),c=function(a){return a.type==="atomic"||a.type==="final"};function d(a){return Object.keys(a.states).map(function(b){return a.states[b]})}function e(a){return d(a).filter(function(a){return a.type!=="history"})}function f(a){var d=[a];return c(a)?d:d.concat(b.flatten(e(a).map(f)))}function g(b,c){var d,f,g,h,j,k,l,m;b=new Set(b);b=i(b);var n=new Set(c);try{for(var o=a.__values(n),p=o.next();!p.done;p=o.next()){c=p.value;var q=c.parent;while(q&&!n.has(q))n.add(q),q=q.parent}}catch(a){d={error:a}}finally{try{p&&!p.done&&(f=o["return"])&&f.call(o)}finally{if(d)throw d.error}}var r=i(n);try{for(var s=a.__values(n),t=s.next();!t.done;t=s.next()){c=t.value;if(c.type==="compound"&&(!r.get(c)||!r.get(c).length))b.get(c)?b.get(c).forEach(function(a){return n.add(a)}):c.initialStateNodes.forEach(function(a){return n.add(a)});else if(c.type==="parallel")try{for(var u=(j=void 0,a.__values(e(c))),v=u.next();!v.done;v=u.next()){var w=v.value;n.has(w)||(n.add(w),b.get(w)?b.get(w).forEach(function(a){return n.add(a)}):w.initialStateNodes.forEach(function(a){return n.add(a)}))}}catch(a){j={error:a}}finally{try{v&&!v.done&&(k=u["return"])&&k.call(u)}finally{if(j)throw j.error}}}}catch(a){g={error:a}}finally{try{t&&!t.done&&(h=s["return"])&&h.call(s)}finally{if(g)throw g.error}}try{for(var x=a.__values(n),y=x.next();!y.done;y=x.next()){c=y.value;var q=c.parent;while(q&&!n.has(q))n.add(q),q=q.parent}}catch(a){l={error:a}}finally{try{y&&!y.done&&(m=x["return"])&&m.call(x)}finally{if(l)throw l.error}}return n}function h(a,b){var d=b.get(a);if(!d)return{};if(a.type==="compound"){a=d[0];if(a){if(c(a))return a.key}else return{}}var e={};d.forEach(function(a){e[a.key]=h(a,b)});return e}function i(b){var c,d,e=new Map();try{for(var f=a.__values(b),g=f.next();!g.done;g=f.next()){b=g.value;e.has(b)||e.set(b,[]);b.parent&&(e.has(b.parent)||e.set(b.parent,[]),e.get(b.parent).push(b))}}catch(a){c={error:a}}finally{try{g&&!g.done&&(d=f["return"])&&d.call(f)}finally{if(c)throw c.error}}return e}function j(a,b){b=g([a],b);return h(a,i(b))}function l(a,b){if(Array.isArray(a))return a.some(function(a){return a===b});return a instanceof Set?a.has(b):!1}function m(c){return a.__spreadArray([],a.__read(new Set(b.flatten(a.__spreadArray([],a.__read(c.map(function(a){return a.ownEvents})),!1)))),!1)}function n(a,b){if(b.type==="compound")return e(b).some(function(b){return b.type==="final"&&l(a,b)});return b.type==="parallel"?e(b).every(function(b){return n(a,b)}):!1}function o(a){a===void 0&&(a=[]);return a.reduce(function(a,b){b.meta!==void 0&&(a[b.id]=b.meta);return a},{})}function p(a){return new Set(b.flatten(a.map(function(a){return a.tags})))}W.getAdjList=i;W.getAllChildren=d;W.getAllStateNodes=f;W.getChildren=e;W.getConfiguration=g;W.getMeta=o;W.getTagsFromConfiguration=p;W.getValue=j;W.has=l;W.isInFinalState=n;W.isLeafNode=c;W.nextEvents=m}var fa=!1;function ga(){fa||(fa=!0,ea());return da.exports}var X={},ha={exports:X};function ia(){Object.defineProperty(X,"__esModule",{value:!0});var a=k(),b=z(),c=J(),d=ga(),e=O(),f=E();function g(a,b){if(a===b)return!0;if(a===void 0||b===void 0)return!1;if(c.isString(a)||c.isString(b))return a===b;var d=Object.keys(a),e=Object.keys(b);return d.length===e.length&&d.every(function(c){return g(a[c],b[c])})}function h(a){return typeof a!=="object"||a===null?!1:"value"in a&&"_event"in a}var i=h;function j(b,c){var d=b.exec,e=a.__assign(a.__assign({},b),{exec:d!==void 0?function(){return d(c.context,c.event,{action:b,state:c,_event:c._event})}:void 0});return e}var l=function(){function g(a){var c=this,e;this.actions=[];this.activities=b.EMPTY_ACTIVITY_MAP;this.meta={};this.events=[];this.value=a.value;this.context=a.context;this._event=a._event;this._sessionid=a._sessionid;this.event=this._event.data;this.historyValue=a.historyValue;this.history=a.history;this.actions=a.actions||[];this.activities=a.activities||b.EMPTY_ACTIVITY_MAP;this.meta=d.getMeta(a.configuration);this.events=a.events||[];this.matches=this.matches.bind(this);this.toStrings=this.toStrings.bind(this);this.configuration=a.configuration;this.transitions=a.transitions;this.children=a.children;this.done=!!a.done;this.tags=(e=Array.isArray(a.tags)?new Set(a.tags):a.tags)!==null&&e!==void 0?e:new Set();this.machine=a.machine;Object.defineProperty(this,"nextEvents",{get:function(){return d.nextEvents(c.configuration)}})}g.from=function(a,b){if(a instanceof g)return a.context!==b?new g({value:a.value,context:b,_event:a._event,_sessionid:null,historyValue:a.historyValue,history:a.history,actions:[],activities:a.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):a;var c=e.initEvent;return new g({value:a,context:b,_event:c,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})};g.create=function(a){return new g(a)};g.inert=function(a,b){if(a instanceof g){if(!a.actions.length)return a;var c=e.initEvent;return new g({value:a.value,context:b,_event:c,_sessionid:null,historyValue:a.historyValue,history:a.history,activities:a.activities,configuration:a.configuration,transitions:[],children:{}})}return g.from(a,b)};g.prototype.toStrings=function(b,d){var e=this;b===void 0&&(b=this.value);d===void 0&&(d=".");if(c.isString(b))return[b];var f=Object.keys(b);return f.concat.apply(f,a.__spreadArray([],a.__read(f.map(function(a){return e.toStrings(b[a],d).map(function(b){return a+d+b})})),!1))};g.prototype.toJSON=function(){var b=this;b.configuration;b.transitions;var c=b.tags;b.machine;b=a.__rest(b,["configuration","transitions","tags","machine"]);return a.__assign(a.__assign({},b),{tags:Array.from(c)})};g.prototype.matches=function(a){return c.matchesState(a,this.value)};g.prototype.hasTag=function(a){return this.tags.has(a)};g.prototype.can=function(a){var b;f.IS_PRODUCTION&&c.warn(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");b=(b=this.machine)===null||b===void 0?void 0:b.getTransitionData(this,a);return!!(b===null||b===void 0?void 0:b.transitions.length)&&b.transitions.some(function(a){return a.target!==void 0||a.actions.length})};return g}();X.State=l;X.bindActionToState=j;X.isState=i;X.isStateConfig=h;X.stateValuesEqual=g}var ja=!1;function ka(){ja||(ja=!0,ia());return ha.exports}var la={},ma={exports:la};function na(){Object.defineProperty(la,"__esModule",{value:!0});var a=k(),b={deferEvents:!1},c=function(){function c(c){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=a.__assign(a.__assign({},b),c)}c.prototype.initialize=function(a){this.initialized=!0;if(a){if(!this.options.deferEvents){this.schedule(a);return}this.process(a)}this.flushEvents()};c.prototype.schedule=function(a){if(!this.initialized||this.processingEvent){this.queue.push(a);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(a);this.flushEvents()};c.prototype.clear=function(){this.queue=[]};c.prototype.flushEvents=function(){var a=this.queue.shift();while(a)this.process(a),a=this.queue.shift()};c.prototype.process=function(a){this.processingEvent=!0;try{a()}catch(a){this.clear();throw a}finally{this.processingEvent=!1}};return c}();la.Scheduler=c}var oa=!1;function pa(){oa||(oa=!0,na());return ma.exports}var qa={},ra={exports:qa};function sa(){Object.defineProperty(qa,"__esModule",{value:!0});var a=new Map(),b=0,c={bookId:function(){return"x:".concat(b++)},register:function(b,c){a.set(b,c);return b},get:function(b){return a.get(b)},free:function(b){a["delete"](b)}};qa.registry=c}var ta=!1;function ua(){ta||(ta=!0,sa());return ra.exports}var va={},wa={exports:va};function xa(){Object.defineProperty(va,"__esModule",{value:!0});var b=E();function c(){if(typeof globalThis!=="undefined")return globalThis;if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof a!=="undefined")return a;!b.IS_PRODUCTION}function d(){var b=c();return b&&"__xstate__"in b?b.__xstate__:void 0}function e(a){if(!c())return;var b=d();b&&b.register(a)}va.getGlobal=c;va.registerService=e}var ya=!1;function za(){ya||(ya=!0,xa());return wa.exports}var Y={},Aa={exports:Y};function Ba(){Object.defineProperty(Y,"__esModule",{value:!0});var a=O(),b=V(),c=J();function d(a,b){return{transition:a,initialState:b}}function e(b){var c={error:void 0,data:void 0,status:"pending"};return{transition:function(b,c,d){var e=d.parent,f=d.id;d=d.observers;switch(c.type){case"fulfill":e===null||e===void 0?void 0:e.send(a.doneInvoke(f,c.data));return{error:void 0,data:c.data,status:"fulfilled"};case"reject":e===null||e===void 0?void 0:e.send(a.error(f,c.error));d.forEach(function(a){a.error(c.error)});return{error:c.error,data:void 0,status:"rejected"};default:return b}},initialState:c,start:function(a){var d=a.self;b().then(function(a){d.send({type:"fulfill",data:a})},function(a){d.send({type:"reject",error:a})});return c}}}function f(a,d){d===void 0&&(d={});var e=a.initialState,f=new Set(),g=[],h=!1,i=function(){if(h)return;h=!0;while(g.length>0){var b=g.shift();e=a.transition(e,b,k);f.forEach(function(a){return a.next(e)})}h=!1},j=b.toActorRef({id:d.id,send:function(a){g.push(a),i()},getSnapshot:function(){return e},subscribe:function(a,b,d){var g=c.toObserver(a,b,d);f.add(g);g.next(e);return{unsubscribe:function(){f["delete"](g)}}}}),k={parent:d.parent,self:j,id:d.id||"anonymous",observers:f};e=a.start?a.start(k):e;return j}Y.fromPromise=e;Y.fromReducer=d;Y.spawnBehavior=f}var Ca=!1;function Da(){Ca||(Ca=!0,Ba());return Aa.exports}var Z={},Ea={exports:Z};function Fa(){Object.defineProperty(Z,"__esModule",{value:!0});var b=k(),c=p(),d=ka(),e=u(),f=O(),g=E(),h=J(),i=pa(),j=V(),l=ua(),m=za(),n=S(),o=Da(),q={sync:!1,autoForward:!1};Z.InterpreterStatus=void 0;(function(a){a[a.NotStarted=0]="NotStarted",a[a.Running=1]="Running",a[a.Stopped=2]="Stopped"})(Z.InterpreterStatus||(Z.InterpreterStatus={}));var r=function(){function k(a,d){d===void 0&&(d=k.defaultOptions);var j=this;this.machine=a;this.delayedEventsMap={};this.listeners=new Set();this.contextListeners=new Set();this.stopListeners=new Set();this.doneListeners=new Set();this.eventListeners=new Set();this.sendListeners=new Set();this.initialized=!1;this.status=Z.InterpreterStatus.NotStarted;this.children=new Map();this.forwardTo=new Set();this._outgoingQueue=[];this.init=this.start;this.send=function(a,b){if(h.isArray(a)){j.batch(a);return j.state}var c=h.toSCXMLEvent(h.toEventObject(a,b));if(j.status===Z.InterpreterStatus.Stopped){g.IS_PRODUCTION||h.warn(!1,'Event "'.concat(c.name,'" was sent to stopped service "').concat(j.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(c.data)));return j.state}if(j.status!==Z.InterpreterStatus.Running&&!j.options.deferEvents)throw new Error('Event "'.concat(c.name,'" was sent to uninitialized service "').concat(j.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(c.data)));j.scheduler.schedule(function(){j.forward(c);var a=j._nextState(c);j.update(a,c)});return j._state};this.sendTo=function(a,d,i){var k=j.parent&&(d===c.SpecialTargets.Parent||j.parent.id===d),m=k?j.parent:h.isString(d)?j.children.get(d)||l.registry.get(d):h.isActor(d)?d:void 0;if(!m){if(!k)throw new Error("Unable to send event to child '".concat(d,"' from service '").concat(j.id,"'."));g.IS_PRODUCTION||h.warn(!1,"Service '".concat(j.id,"' has no parent: unable to send event ").concat(a.type));return}if("machine"in m){if(j.status!==Z.InterpreterStatus.Stopped||j.parent!==m||j.state.done){k=b.__assign(b.__assign({},a),{name:a.name===e.error?"".concat(f.error(j.id)):a.name,origin:j.sessionId});!i&&j.machine.config.predictableActionArguments?j._outgoingQueue.push([m,k]):m.send(k)}}else!i&&j.machine.config.predictableActionArguments?j._outgoingQueue.push([m,a.data]):m.send(a.data)};this._exec=function(b,d,i,k){k===void 0&&(k=j.machine.options.actions);k=b.exec||f.getActionFunction(b.type,k);k=h.isFunction(k)?k:k?k.exec:b.exec;if(k)try{return k(d,i.data,j.machine.config.predictableActionArguments?{action:b,_event:i}:{action:b,state:j.state,_event:i})}catch(a){j.parent&&j.parent.send({type:"xstate.error",data:a});throw a}switch(b.type){case e.send:k=b;if(typeof k.delay==="number"){j.defer(k);return}else k.to?j.sendTo(k._event,k.to,i===f.initEvent):j.send(k._event);break;case e.cancel:j.cancel(b.sendId);break;case e.start:if(j.status!==Z.InterpreterStatus.Running)return;k=b.activity;if(!j.machine.config.predictableActionArguments&&!j.state.activities[k.id||k.type])break;if(k.type===c.ActionTypes.Invoke){var l=h.toInvokeSource(k.src),m=j.machine.options.services?j.machine.options.services[l.type]:void 0,a=k.id,n=k.data;g.IS_PRODUCTION||h.warn(!("forward"in k),"`forward` property is deprecated (found in invocation of '".concat(k.src,"' in in machine '").concat(j.machine.id,"'). ")+"Please use `autoForward` instead.");var o="autoForward"in k?k.autoForward:!!k.forward;if(!m){g.IS_PRODUCTION||h.warn(!1,"No service found for invocation '".concat(k.src,"' in machine '").concat(j.machine.id,"'."));return}n=n?h.mapContext(n,d,i):void 0;if(typeof m==="string")return;d=h.isFunction(m)?m(d,i.data,{data:n,src:l,meta:k.meta}):m;if(!d)return;i=void 0;h.isMachine(d)&&(d=n?d.withContext(n):d,i={autoForward:o});j.spawn(d,a,i)}else j.spawnActivity(k);break;case e.stop:j.stopChild(b.activity.id);break;case e.log:l=b.label;m=b.value;l?j.logger(l,m):j.logger(m);break;default:g.IS_PRODUCTION||h.warn(!1,"No implementation found for action type '".concat(b.type,"'"));break}};d=b.__assign(b.__assign({},k.defaultOptions),d);var m=d.clock,n=d.logger,o=d.parent,p=d.id;p=p!==void 0?p:a.id;this.id=p;this.logger=n;this.clock=m;this.parent=o;this.options=d;this.scheduler=new i.Scheduler({deferEvents:this.options.deferEvents});this.sessionId=l.registry.bookId()}Object.defineProperty(k.prototype,"initialState",{get:function(){var a=this;return this._initialState?this._initialState:n.provide(this,function(){a._initialState=a.machine.initialState;return a._initialState})},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"state",{get:function(){g.IS_PRODUCTION||h.warn(this.status!==Z.InterpreterStatus.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first."));return this._state},enumerable:!1,configurable:!0});k.prototype.execute=function(a,c){var d,e;try{for(var f=b.__values(a.actions),g=f.next();!g.done;g=f.next()){var h=g.value;this.exec(h,a,c)}}catch(a){d={error:a}}finally{try{g&&!g.done&&(e=f["return"])&&e.call(f)}finally{if(d)throw d.error}}};k.prototype.update=function(a,c){var d,e,g,i,j,k,l,m,n=this;a._sessionid=this.sessionId;this._state=a;if((!this.machine.config.predictableActionArguments||c===f.initEvent)&&this.options.execute)this.execute(this.state);else{var o;while(o=this._outgoingQueue.shift())o[0].send(o[1])}this.children.forEach(function(a){n.state.children[a.id]=a});this.devTools&&this.devTools.send(c.data,a);if(a.event)try{for(var p=b.__values(this.eventListeners),q=p.next();!q.done;q=p.next()){o=q.value;o(a.event)}}catch(a){d={error:a}}finally{try{q&&!q.done&&(e=p["return"])&&e.call(p)}finally{if(d)throw d.error}}try{for(var r=b.__values(this.listeners),s=r.next();!s.done;s=r.next()){o=s.value;o(a,a.event)}}catch(a){g={error:a}}finally{try{s&&!s.done&&(i=r["return"])&&i.call(r)}finally{if(g)throw g.error}}try{for(var t=b.__values(this.contextListeners),u=t.next();!u.done;u=t.next()){var v=u.value;v(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(a){j={error:a}}finally{try{u&&!u.done&&(k=t["return"])&&k.call(t)}finally{if(j)throw j.error}}if(this.state.done){v=a.configuration.find(function(a){return a.type==="final"&&a.parent===n.machine});v=v&&v.doneData?h.mapContext(v.doneData,a.context,c):void 0;try{for(var w=b.__values(this.doneListeners),x=w.next();!x.done;x=w.next()){o=x.value;o(f.doneInvoke(this.id,v))}}catch(a){l={error:a}}finally{try{x&&!x.done&&(m=w["return"])&&m.call(w)}finally{if(l)throw l.error}}this._stop();this._stopChildren()}};k.prototype.onTransition=function(a){this.listeners.add(a);this.status===Z.InterpreterStatus.Running&&a(this.state,this.state.event);return this};k.prototype.subscribe=function(a,b,c){var d=this,e=h.toObserver(a,b,c);this.listeners.add(e.next);this.status!==Z.InterpreterStatus.NotStarted&&e.next(this.state);var f=function(){d.doneListeners["delete"](f),d.stopListeners["delete"](f),e.complete()};this.status===Z.InterpreterStatus.Stopped?e.complete():(this.onDone(f),this.onStop(f));return{unsubscribe:function(){d.listeners["delete"](e.next),d.doneListeners["delete"](f),d.stopListeners["delete"](f)}}};k.prototype.onEvent=function(a){this.eventListeners.add(a);return this};k.prototype.onSend=function(a){this.sendListeners.add(a);return this};k.prototype.onChange=function(a){this.contextListeners.add(a);return this};k.prototype.onStop=function(a){this.stopListeners.add(a);return this};k.prototype.onDone=function(a){this.doneListeners.add(a);return this};k.prototype.off=function(a){this.listeners["delete"](a);this.eventListeners["delete"](a);this.sendListeners["delete"](a);this.stopListeners["delete"](a);this.doneListeners["delete"](a);this.contextListeners["delete"](a);return this};k.prototype.start=function(a){var b=this;if(this.status===Z.InterpreterStatus.Running)return this;this.machine._init();l.registry.register(this.sessionId,this);this.initialized=!0;this.status=Z.InterpreterStatus.Running;var c=a===void 0?this.initialState:n.provide(this,function(){return d.isStateConfig(a)?b.machine.resolveState(a):b.machine.resolveState(d.State.from(a,b.machine.context))});this.options.devTools&&this.attachDev();this.scheduler.initialize(function(){b.update(c,f.initEvent)});return this};k.prototype._stopChildren=function(){this.children.forEach(function(a){h.isFunction(a.stop)&&a.stop()}),this.children.clear()};k.prototype._stop=function(){var a,c,d,e,f,g,h,j,k,l;try{for(var m=b.__values(this.listeners),n=m.next();!n.done;n=m.next()){var o=n.value;this.listeners["delete"](o)}}catch(b){a={error:b}}finally{try{n&&!n.done&&(c=m["return"])&&c.call(m)}finally{if(a)throw a.error}}try{for(var p=b.__values(this.stopListeners),q=p.next();!q.done;q=p.next()){var o=q.value;o();this.stopListeners["delete"](o)}}catch(a){d={error:a}}finally{try{q&&!q.done&&(e=p["return"])&&e.call(p)}finally{if(d)throw d.error}}try{for(var r=b.__values(this.contextListeners),s=r.next();!s.done;s=r.next()){var o=s.value;this.contextListeners["delete"](o)}}catch(a){f={error:a}}finally{try{s&&!s.done&&(g=r["return"])&&g.call(r)}finally{if(f)throw f.error}}try{for(var t=b.__values(this.doneListeners),u=t.next();!u.done;u=t.next()){var o=u.value;this.doneListeners["delete"](o)}}catch(a){h={error:a}}finally{try{u&&!u.done&&(j=t["return"])&&j.call(t)}finally{if(h)throw h.error}}if(!this.initialized)return this;this.initialized=!1;this.status=Z.InterpreterStatus.Stopped;this._initialState=void 0;try{for(var v=b.__values(Object.keys(this.delayedEventsMap)),w=v.next();!w.done;w=v.next()){o=w.value;this.clock.clearTimeout(this.delayedEventsMap[o])}}catch(a){k={error:a}}finally{try{w&&!w.done&&(l=v["return"])&&l.call(v)}finally{if(k)throw k.error}}this.scheduler.clear();this.scheduler=new i.Scheduler({deferEvents:this.options.deferEvents})};k.prototype.stop=function(){var g=this,a=this.scheduler;this._stop();a.schedule(function(){var a=h.toSCXMLEvent({type:"xstate.stop"}),i=n.provide(g,function(){var i=h.flatten(b.__spreadArray([],b.__read(g.state.configuration),!1).sort(function(a,b){return b.order-a.order}).map(function(a){return f.toActionObjects(a.onExit,g.machine.options.actions)}));i=b.__read(f.resolveActions(g.machine,g.state,g.state.context,a,[{type:"exit",actions:i}],g.machine.config.predictableActionArguments?g._exec:void 0,g.machine.config.predictableActionArguments||g.machine.config.preserveActionOrder),2);var j=i[0];i=i[1];i=new d.State({value:g.state.value,context:i,_event:a,_sessionid:g.sessionId,historyValue:void 0,history:g.state,actions:j.filter(function(a){return a.type!==e.raise&&(a.type!==e.send||!!a.to&&a.to!==c.SpecialTargets.Internal)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:g.state.done,tags:g.state.tags,machine:g.machine});i.changed=!0;return i});g.update(i,a);g._stopChildren();l.registry.free(g.sessionId)});return this};k.prototype.batch=function(a){var c=this;if(this.status===Z.InterpreterStatus.NotStarted&&this.options.deferEvents)g.IS_PRODUCTION||h.warn(!1,"".concat(a.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==Z.InterpreterStatus.Running)throw new Error("".concat(a.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(!a.length)return;var e=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var f,g,i=c.state,j=!1,k=[],l=function(a){var f=h.toSCXMLEvent(a);c.forward(f);i=n.provide(c,function(){return c.machine.transition(i,f,void 0,e||void 0)});k.push.apply(k,b.__spreadArray([],b.__read(c.machine.config.predictableActionArguments?i.actions:i.actions.map(function(a){return d.bindActionToState(a,i)})),!1));j=j||!!i.changed};try{for(var m=b.__values(a),o=m.next();!o.done;o=m.next()){var p=o.value;l(p)}}catch(a){f={error:a}}finally{try{o&&!o.done&&(g=m["return"])&&g.call(m)}finally{if(f)throw f.error}}i.changed=j;i.actions=k;c.update(i,h.toSCXMLEvent(a[a.length-1]))})};k.prototype.sender=function(a){return this.send.bind(this,a)};k.prototype._nextState=function(a,b){var c=this;b===void 0&&(b=!!this.machine.config.predictableActionArguments&&this._exec);var d=h.toSCXMLEvent(a);if(d.name.indexOf(e.errorPlatform)===0&&!this.state.nextEvents.some(function(a){return a.indexOf(e.errorPlatform)===0}))throw d.data.data;a=n.provide(this,function(){return c.machine.transition(c.state,d,void 0,b||void 0)});return a};k.prototype.nextState=function(a){return this._nextState(a,!1)};k.prototype.forward=function(a){var c,d;try{for(var e=b.__values(this.forwardTo),f=e.next();!f.done;f=e.next()){var g=f.value,h=this.children.get(g);if(!h)throw new Error("Unable to forward event '".concat(a,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(g,"'."));h.send(a)}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e["return"])&&d.call(e)}finally{if(c)throw c.error}}};k.prototype.defer=function(a){var b=this;this.delayedEventsMap[a.id]=this.clock.setTimeout(function(){a.to?b.sendTo(a._event,a.to,!0):b.send(a._event)},a.delay)};k.prototype.cancel=function(a){this.clock.clearTimeout(this.delayedEventsMap[a]),delete this.delayedEventsMap[a]};k.prototype.exec=function(a,b,c){c===void 0&&(c=this.machine.options.actions),this._exec(a,b.context,b._event,c)};k.prototype.removeChild=function(a){var b;this.children["delete"](a);this.forwardTo["delete"](a);(b=this.state)===null||b===void 0?!0:delete b.children[a]};k.prototype.stopChild=function(a){var b=this.children.get(a);if(!b)return;this.removeChild(a);h.isFunction(b.stop)&&b.stop()};k.prototype.spawn=function(a,c,d){if(this.status!==Z.InterpreterStatus.Running)return j.createDeferredActor(a,c);if(h.isPromiseLike(a))return this.spawnPromise(Promise.resolve(a),c);else if(h.isFunction(a))return this.spawnCallback(a,c);else if(j.isSpawnedActor(a))return this.spawnActor(a,c);else if(h.isObservable(a))return this.spawnObservable(a,c);else if(h.isMachine(a))return this.spawnMachine(a,b.__assign(b.__assign({},d),{id:c}));else if(h.isBehavior(a))return this.spawnBehavior(a,c);else throw new Error('Unable to spawn entity "'.concat(c,'" of type "').concat(typeof a,'".'))};k.prototype.spawnMachine=function(a,c){var d=this;c===void 0&&(c={});var f=new k(a,b.__assign(b.__assign({},this.options),{parent:this,id:c.id||a.id}));a=b.__assign(b.__assign({},q),c);a.sync&&f.onTransition(function(a){d.send(e.update,{state:a,id:f.id})});c=f;this.children.set(f.id,c);a.autoForward&&this.forwardTo.add(f.id);f.onDone(function(a){d.removeChild(f.id),d.send(h.toSCXMLEvent(a,{origin:f.id}))}).start();return c};k.prototype.spawnBehavior=function(a,b){a=o.spawnBehavior(a,{id:b,parent:this});this.children.set(b,a);return a};k.prototype.spawnPromise=function(a,b){var c,d=this,e=!1,g;a.then(function(a){e||(g=a,d.removeChild(b),d.send(h.toSCXMLEvent(f.doneInvoke(b,a),{origin:b})))},function(a){if(!e){d.removeChild(b);var c=f.error(b,a);try{d.send(h.toSCXMLEvent(c,{origin:b}))}catch(e){h.reportUnhandledExceptionOnInvocation(a,e,b),d.devTools&&d.devTools.send(c,d.state),d.machine.strict&&d.stop()}}});c=(c={id:b,send:function(){return void 0},subscribe:function(b,c,d){var e=h.toObserver(b,c,d),f=!1;a.then(function(a){if(f)return;e.next(a);if(f)return;e.complete()},function(a){if(f)return;e.error(a)});return{unsubscribe:function(){return f=!0}}},stop:function(){e=!0},toJSON:function(){return{id:b}},getSnapshot:function(){return g}},c[h.symbolObservable]=function(){return this},c);this.children.set(b,c);return c};k.prototype.spawnCallback=function(a,b){var c=this,d=!1,e=new Set(),g=new Set(),i,j=function(a){i=a;g.forEach(function(b){return b(a)});if(d)return;c.send(h.toSCXMLEvent(a,{origin:b}))},k;try{k=a(j,function(a){e.add(a)})}catch(a){this.send(f.error(b,a))}if(h.isPromiseLike(k))return this.spawnPromise(k,b);j=(a={id:b,send:function(a){return e.forEach(function(b){return b(a)})},subscribe:function(a){var b=h.toObserver(a);g.add(b.next);return{unsubscribe:function(){g["delete"](b.next)}}},stop:function(){d=!0,h.isFunction(k)&&k()},toJSON:function(){return{id:b}},getSnapshot:function(){return i}},a[h.symbolObservable]=function(){return this},a);this.children.set(b,j);return j};k.prototype.spawnObservable=function(a,b){var c,d=this,e,g=a.subscribe(function(a){e=a,d.send(h.toSCXMLEvent(a,{origin:b}))},function(a){d.removeChild(b),d.send(h.toSCXMLEvent(f.error(b,a),{origin:b}))},function(){d.removeChild(b),d.send(h.toSCXMLEvent(f.doneInvoke(b),{origin:b}))});c=(c={id:b,send:function(){return void 0},subscribe:function(b,c,d){return a.subscribe(b,c,d)},stop:function(){return g.unsubscribe()},getSnapshot:function(){return e},toJSON:function(){return{id:b}}},c[h.symbolObservable]=function(){return this},c);this.children.set(b,c);return c};k.prototype.spawnActor=function(a,b){this.children.set(b,a);return a};k.prototype.spawnActivity=function(a){var b=this.machine.options&&this.machine.options.activities?this.machine.options.activities[a.type]:void 0;if(!b){g.IS_PRODUCTION||h.warn(!1,"No implementation found for activity '".concat(a.type,"'"));return}b=b(this.state.context,a);this.spawnEffect(a.id,b)};k.prototype.spawnEffect=function(a,b){this.children.set(a,(b={id:a,send:function(){return void 0},subscribe:function(){return{unsubscribe:function(){return void 0}}},stop:b||void 0,getSnapshot:function(){return void 0},toJSON:function(){return{id:a}}},b[h.symbolObservable]=function(){return this},b))};k.prototype.attachDev=function(){var c=m.getGlobal();if(this.options.devTools&&c){if(c.__REDUX_DEVTOOLS_EXTENSION__){var d=typeof this.options.devTools==="object"?this.options.devTools:void 0;this.devTools=c.__REDUX_DEVTOOLS_EXTENSION__.connect(b.__assign(b.__assign({name:this.id,autoPause:!0,stateSanitizer:function(a){return{value:a.value,context:a.context,actions:a.actions}}},d),{features:b.__assign({jump:!1,skip:!1},d?d.features:void 0)}),this.machine);this.devTools.init(this.state)}m.registerService(this)}};k.prototype.toJSON=function(){return{id:this.id}};k.prototype[h.symbolObservable]=function(){return this};k.prototype.getSnapshot=function(){return this.status===Z.InterpreterStatus.NotStarted?this.initialState:this._state};k.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(a,b){return setTimeout(a,b)},clearTimeout:function(a){return clearTimeout(a)}},logger:console.log.bind(console),devTools:!1};k.interpret=v;return k}(),s=function(a){return h.isString(a)?b.__assign(b.__assign({},q),{name:a}):b.__assign(b.__assign(b.__assign({},q),{name:h.uniqueId()}),a)};function t(a,b){var c=s(b);return n.consume(function(b){if(!g.IS_PRODUCTION){var d=h.isMachine(a)||h.isFunction(a);h.warn(!!b||d,'Attempted to spawn an Actor (ID: "'.concat(h.isMachine(a)?a.id:"undefined",'") outside of a service. This will have no effect.'))}if(b)return b.spawn(a,c.name,c);else return j.createDeferredActor(a,c.name)})}function v(a,b){a=new r(a,b);return a}Z.Interpreter=r;Z.interpret=v;Z.spawn=t}var Ga=!1;function Ha(){Ga||(Ga=!0,Fa());return Ea.exports}var Ia={},Ja={exports:Ia};function Ka(){Object.defineProperty(Ia,"__esModule",{value:!0});var a=k();p();var b=u();J();E();function c(a){if(typeof a==="string"){var b={type:a};b.toString=function(){return a};return b}return a}function d(d){return a.__assign(a.__assign({type:b.invoke},d),{toJSON:function(){d.onDone;d.onError;var e=a.__rest(d,["onDone","onError"]);return a.__assign(a.__assign({},e),{type:b.invoke,src:c(d.src)})}})}Ia.toInvokeDefinition=d;Ia.toInvokeSource=c}var La=!1;function Ma(){La||(La=!0,Ka());return Ja.exports}var Na={},Oa={exports:Na};function Pa(){Object.defineProperty(Na,"__esModule",{value:!0});var a=k(),b=J(),c=p(),d=ka(),e=u(),f=O(),g=E(),h=z(),i=ga(),j=V(),l=Ma(),m="",n="#",o="*",q={},r=function(a){return a[0]===n},s=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},t=function(a,c,d){d=d.slice(0,-1).some(function(a){return!("cond"in a)&&!("in"in a)&&(b.isString(a.target)||b.isMachine(a.target))});c=c===m?"the transient event":"event '".concat(c,"'");b.warn(!d,"One or more transitions for ".concat(c," on state '").concat(a.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},v=function(){function k(c,d,e,j){e===void 0&&(e="context"in c?c.context:void 0);var n=this;this.config=c;this._context=e;this.order=-1;this.__xstatenode=!0;this.__cache={events:void 0,relativeValue:new Map(),initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0};this.idMap={};this.tags=[];this.options=Object.assign(s(),d);this.parent=j===null||j===void 0?void 0:j.parent;this.key=this.config.key||(j===null||j===void 0?void 0:j.key)||this.config.id||"(machine)";this.machine=this.parent?this.parent.machine:this;this.path=this.parent?this.parent.path.concat(this.key):[];this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:h.STATE_DELIMITER);this.id=this.config.id||a.__spreadArray([this.machine.key],a.__read(this.path),!1).join(this.delimiter);this.version=this.parent?this.parent.version:this.config.version;this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic");this.schema=this.parent?this.machine.schema:(c=this.config.schema)!==null&&c!==void 0?c:{};this.description=this.config.description;g.IS_PRODUCTION||b.warn(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead."));this.initial=this.config.initial;this.states=this.config.states?b.mapValues(this.config.states,function(b,c){b=new k(b,{},void 0,{parent:n,key:c});Object.assign(n.idMap,a.__assign((c={},c[b.id]=b,c),b.idMap));return b}):q;var o=0;function p(b){var c,d;b.order=o++;try{for(var e=a.__values(i.getAllChildren(b)),f=e.next();!f.done;f=e.next()){b=f.value;p(b)}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e["return"])&&d.call(e)}finally{if(c)throw c.error}}}p(this);this.history=this.config.history===!0?"shallow":this.config.history||!1;this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(a){a=a.event;return a===m}):m in this.config.on:!1);this.strict=!!this.config.strict;this.onEntry=b.toArray(this.config.entry||this.config.onEntry).map(function(a){return f.toActionObject(a)});this.onExit=b.toArray(this.config.exit||this.config.onExit).map(function(a){return f.toActionObject(a)});this.meta=this.config.meta;this.doneData=this.type==="final"?this.config.data:void 0;this.invoke=b.toArray(this.config.invoke).map(function(c,d){var e;if(b.isMachine(c)){var f=b.createInvokeId(n.id,d);n.machine.options.services=a.__assign((e={},e[f]=c,e),n.machine.options.services);return l.toInvokeDefinition({src:f,id:f})}else if(b.isString(c.src)){var f=c.id||b.createInvokeId(n.id,d);return l.toInvokeDefinition(a.__assign(a.__assign({},c),{id:f,src:c.src}))}else if(b.isMachine(c.src)||b.isFunction(c.src)){var f=c.id||b.createInvokeId(n.id,d);n.machine.options.services=a.__assign((e={},e[f]=c.src,e),n.machine.options.services);return l.toInvokeDefinition(a.__assign(a.__assign({id:f},c),{src:f}))}else{e=c.src;return l.toInvokeDefinition(a.__assign(a.__assign({id:b.createInvokeId(n.id,d)},c),{src:e}))}});this.activities=b.toArray(this.config.activities).concat(this.invoke).map(function(a){return f.toActivityDefinition(a)});this.transition=this.transition.bind(this);this.tags=b.toArray(this.config.tags)}k.prototype._init=function(){if(this.__cache.transitions)return;i.getAllStateNodes(this).forEach(function(a){return a.on})};k.prototype.withConfig=function(c,d){var e=this.options,b=e.actions,f=e.activities,g=e.guards,h=e.services;e=e.delays;return new k(this.config,{actions:a.__assign(a.__assign({},b),c.actions),activities:a.__assign(a.__assign({},f),c.activities),guards:a.__assign(a.__assign({},g),c.guards),services:a.__assign(a.__assign({},h),c.services),delays:a.__assign(a.__assign({},e),c.delays)},d!==null&&d!==void 0?d:this.context)};k.prototype.withContext=function(a){return new k(this.config,this.options,a)};Object.defineProperty(k.prototype,"context",{get:function(){return b.isFunction(this._context)?this._context():this._context},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:b.mapValues(this.states,function(a){return a.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0});k.prototype.toJSON=function(){return this.definition};Object.defineProperty(k.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var a=this.transitions;return this.__cache.on=a.reduce(function(a,b){a[b.eventType]=a[b.eventType]||[];a[b.eventType].push(b);return a},{})},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0});k.prototype.getCandidates=function(a){if(this.__cache.candidates[a])return this.__cache.candidates[a];var b=a===m,c=this.transitions.filter(function(c){var d=c.eventType===a;return b?d:d||c.eventType===o});this.__cache.candidates[a]=c;return c};k.prototype.getDelayedTransitions=function(){var c=this,d=this.config.after;if(!d)return[];var e=function(a,d){d=b.isFunction(a)?"".concat(c.id,":delay[").concat(d,"]"):a;d=f.after(d,c.id);c.onEntry.push(f.send(d,{delay:a}));c.onExit.push(f.cancel(d));return d},g=b.isArray(d)?d.map(function(b,c){c=e(b.delay,c);return a.__assign(a.__assign({},b),{event:c})}):b.flatten(Object.keys(d).map(function(c,f){var g=d[c];g=b.isString(g)?{target:g}:g;var h=isNaN(+c)?c:+c,i=e(h,f);return b.toArray(g).map(function(b){return a.__assign(a.__assign({},b),{event:i,delay:h})})}));return g.map(function(b){var d=b.delay;return a.__assign(a.__assign({},c.formatTransition(b)),{delay:d})})};k.prototype.getStateNodes=function(c){var e,f=this;if(!c)return[];var g=c instanceof d.State?c.value:b.toStateValue(c,this.delimiter);if(b.isString(g)){c=this.getStateNode(g).initial;return c!==void 0?this.getStateNodes((e={},e[g]=c,e)):[this,this.states[g]]}c=Object.keys(g);e=[this];e.push.apply(e,a.__spreadArray([],a.__read(b.flatten(c.map(function(a){return f.getStateNode(a).getStateNodes(g[a])}))),!1));return e};k.prototype.handles=function(a){a=b.getEventType(a);return this.events.includes(a)};k.prototype.resolveState=function(b){b=b instanceof d.State?b:d.State.create(b);var c=Array.from(i.getConfiguration([],this.getStateNodes(b.value)));return new d.State(a.__assign(a.__assign({},b),{value:this.resolve(b.value),configuration:c,done:i.isInFinalState(c,this),tags:i.getTagsFromConfiguration(c),machine:this.machine}))};k.prototype.transitionLeafNode=function(a,b,c){a=this.getStateNode(a);a=a.next(b,c);return!a||!a.transitions.length?this.next(b,c):a};k.prototype.transitionCompoundNode=function(a,b,c){var d=Object.keys(a),e=this.getStateNode(d[0]);e=e._transition(a[d[0]],b,c);return!e||!e.transitions.length?this.next(b,c):e};k.prototype.transitionParallelNode=function(c,d,e){var f,g,h={};try{for(var i=a.__values(Object.keys(c)),j=i.next();!j.done;j=i.next()){var k=j.value,l=c[k];if(!l)continue;var m=this.getStateNode(k);m=m._transition(l,d,e);m&&(h[k]=m)}}catch(a){f={error:a}}finally{try{j&&!j.done&&(g=i["return"])&&g.call(i)}finally{if(f)throw f.error}}l=Object.keys(h).map(function(a){return h[a]});k=b.flatten(l.map(function(a){return a.transitions}));m=l.some(function(a){return a.transitions.length>0});if(!m)return this.next(d,e);c=b.flatten(Object.keys(h).map(function(a){return h[a].configuration}));return{transitions:k,exitSet:b.flatten(l.map(function(a){return a.exitSet})),configuration:c,source:d,actions:b.flatten(Object.keys(h).map(function(a){return h[a].actions}))}};k.prototype._transition=function(a,c,d){if(b.isString(a))return this.transitionLeafNode(a,c,d);return Object.keys(a).length===1?this.transitionCompoundNode(a,c,d):this.transitionParallelNode(a,c,d)};k.prototype.getTransitionData=function(a,c){return this._transition(a.value,a,b.toSCXMLEvent(c))};k.prototype.next=function(d,e){var f,g,h=this,i=e.name,c=[],j=[],k;try{for(var l=a.__values(this.getCandidates(i)),m=l.next();!m.done;m=l.next()){var n=m.value,o=n.cond,p=n["in"],q=d.context;p=p?b.isString(p)&&r(p)?d.matches(b.toStateValue(this.getStateNodeById(p).path,this.delimiter)):b.matchesState(b.toStateValue(p,this.delimiter),b.path(this.path.slice(0,-2))(d.value)):!0;var s=!1;try{s=!o||b.evaluateGuard(this.machine,o,q,e,d)}catch(a){throw new Error("Unable to evaluate guard '".concat(o.name||o.type,"' in transition for event '").concat(i,"' in state node '").concat(this.id,"':\n").concat(a.message))}if(s&&p){n.target!==void 0&&(j=n.target);c.push.apply(c,a.__spreadArray([],a.__read(n.actions),!1));k=n;break}}}catch(a){f={error:a}}finally{try{m&&!m.done&&(g=l["return"])&&g.call(l)}finally{if(f)throw f.error}}if(!k)return void 0;if(!j.length)return{transitions:[k],exitSet:[],configuration:d.value?[this]:[],source:d,actions:c};q=b.flatten(j.map(function(a){return h.getRelativeStateNodes(a,d.historyValue)}));o=!!k.internal;return{transitions:[k],exitSet:o?[]:b.flatten(j.map(function(a){return h.getPotentiallyReenteringNodes(a)})),configuration:q,source:d,actions:c}};k.prototype.getPotentiallyReenteringNodes=function(a){if(this.order<a.order)return[this];var b=[],c=this;a=a;while(c&&c!==a)b.push(c),c=c.parent;if(c!==a)return[];b.push(a);return b};k.prototype.getActions=function(d,g,h,j,k,l,m){var n,o,p,q,r=this;l=l?i.getConfiguration([],this.getStateNodes(l.value)):[];var s=new Set();try{for(var t=a.__values(Array.from(d).sort(function(a,b){return a.order-b.order})),u=t.next();!u.done;u=t.next()){var v=u.value;(!i.has(l,v)||i.has(h.exitSet,v)||v.parent&&s.has(v.parent))&&s.add(v)}}catch(a){n={error:a}}finally{try{u&&!u.done&&(o=t["return"])&&o.call(t)}finally{if(n)throw n.error}}try{for(var w=a.__values(l),x=w.next();!x.done;x=w.next()){var v=x.value;(!i.has(d,v)||i.has(h.exitSet,v.parent))&&h.exitSet.push(v)}}catch(a){p={error:a}}finally{try{x&&!x.done&&(q=w["return"])&&q.call(w)}finally{if(p)throw p.error}}h.exitSet.sort(function(a,b){return b.order-a.order});l=Array.from(s).sort(function(a,b){return a.order-b.order});v=new Set(h.exitSet);s=b.flatten(l.map(function(a){var c=[];if(a.type!=="final")return c;var d=a.parent;if(!d.parent)return c;c.push(f.done(a.id,a.doneData),f.done(d.id,a.doneData?b.mapContext(a.doneData,j,k):void 0));a=d.parent;a.type==="parallel"&&(i.getChildren(a).every(function(a){return i.isInFinalState(h.configuration,a)})&&c.push(f.done(a.id)));return c}));l=l.map(function(b){var c=b.onEntry;b=b.activities.map(function(a){return f.start(a)});return{type:"entry",actions:f.toActionObjects(m?a.__spreadArray(a.__spreadArray([],a.__read(c),!1),a.__read(b),!1):a.__spreadArray(a.__spreadArray([],a.__read(b),!1),a.__read(c),!1),r.machine.options.actions)}}).concat({type:"state_done",actions:s.map(f.raise)});s=Array.from(v).map(function(b){return{type:"exit",actions:f.toActionObjects(a.__spreadArray(a.__spreadArray([],a.__read(b.onExit),!1),a.__read(b.activities.map(function(a){return f.stop(a)})),!1),r.machine.options.actions)}});v=s.concat({type:"transition",actions:f.toActionObjects(h.actions,this.machine.options.actions)}).concat(l);if(g){s=f.toActionObjects(b.flatten(a.__spreadArray([],a.__read(d),!1).sort(function(a,b){return b.order-a.order}).map(function(a){return a.onExit})),this.machine.options.actions).filter(function(a){return a.type!==e.raise&&(a.type!==e.send||!!a.to&&a.to!==c.SpecialTargets.Internal)});return v.concat({type:"stop",actions:s})}return v};k.prototype.transition=function(c,e,f,h){c===void 0&&(c=this.initialState);e=b.toSCXMLEvent(e);var j;if(c instanceof d.State)j=f===void 0?c:this.resolveState(d.State.from(c,f));else{c=b.isString(c)?this.resolve(b.pathToStateValue(this.getResolvedPath(c))):this.resolve(c);f=f!==null&&f!==void 0?f:this.machine.context;j=this.resolveState(d.State.from(c,f))}if(!g.IS_PRODUCTION&&e.name===o)throw new Error("An event cannot have the wildcard type ('".concat(o,"')"));if(this.strict&&(!this.events.includes(e.name)&&!b.isBuiltInEvent(e.name)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(e.name,"'"));c=this._transition(j.value,j,e)||{transitions:[],configuration:[],exitSet:[],source:j,actions:[]};f=i.getConfiguration([],this.getStateNodes(j.value));f=c.configuration.length?i.getConfiguration(f,c.configuration):f;c.configuration=a.__spreadArray([],a.__read(f),!1);return this.resolveTransition(c,j,j.context,h,e)};k.prototype.resolveRaisedTransition=function(b,c,d,e){var f=b.actions;b=this.transition(b,c,void 0,e);b._event=d;b.event=d.data;(c=b.actions).unshift.apply(c,a.__spreadArray([],a.__read(f),!1));return b};k.prototype.resolveTransition=function(g,h,k,l,n){var o,p,q,r,s=this;n===void 0&&(n=f.initEvent);var t=g.configuration,u=!h||g.transitions.length>0,v=u?g.configuration:h?h.configuration:[],w=i.isInFinalState(v,this),x=u?i.getValue(this.machine,t):void 0,y=h?h.historyValue?h.historyValue:g.source?this.machine.historyValue(h.value):void 0:void 0,z=this.getActions(new Set(v),w,g,k,n,h,l),A=h?a.__assign({},h.activities):{};try{for(var B=a.__values(z),C=B.next();!C.done;C=B.next()){var D=C.value;try{for(var E=(q=void 0,a.__values(D.actions)),F=E.next();!F.done;F=E.next()){D=F.value;D.type===e.start?A[D.activity.id||D.activity.type]=D:D.type===e.stop&&(A[D.activity.id||D.activity.type]=!1)}}catch(a){q={error:a}}finally{try{F&&!F.done&&(r=E["return"])&&r.call(E)}finally{if(q)throw q.error}}}}catch(a){o={error:a}}finally{try{C&&!C.done&&(p=B["return"])&&p.call(B)}finally{if(o)throw o.error}}D=a.__read(f.resolveActions(this,h,k,n,z,l,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2);z=D[0];var G=D[1];D=a.__read(b.partition(z,function(a){return a.type===e.raise||a.type===e.send&&a.to===c.SpecialTargets.Internal}),2);var H=D[0];D=D[1];z=z.filter(function(a){return a.type===e.start&&((a=a.activity)===null||a===void 0?void 0:a.type)===e.invoke});z=z.reduce(function(a,b){a[b.activity.id]=j.createInvocableActor(b.activity,s.machine,G,n);return a},h?a.__assign({},h.children):{});y=new d.State({value:x||h.value,context:G,_event:n,_sessionid:h?h._sessionid:null,historyValue:x?y?b.updateHistoryValue(y,x):void 0:h?h.historyValue:void 0,history:!x||g.source?h:void 0,actions:x?D:[],activities:x?A:h?h.activities:{},events:[],configuration:v,transitions:g.transitions,children:z,done:w,tags:i.getTagsFromConfiguration(v),machine:this});D=k!==G;y.changed=n.name===e.update||D;x=y.history;x&&delete x.history;A=!w&&(this._transient||t.some(function(a){return a._transient}));if(!u&&(!A||n.name===m))return y;h=y;if(!w){A&&(h=this.resolveRaisedTransition(h,{type:e.nullEvent},n,l));while(H.length){g=H.shift();h=this.resolveRaisedTransition(h,g._event,n,l)}}z=h.changed||(x?!!h.actions.length||D||typeof x.value!==typeof h.value||!d.stateValuesEqual(h.value,x.value):void 0);h.changed=z;h.history=x;return h};k.prototype.getStateNode=function(a){if(r(a))return this.machine.getStateNodeById(a);if(!this.states)throw new Error("Unable to retrieve child state '".concat(a,"' from '").concat(this.id,"'; no child states exist."));var b=this.states[a];if(!b)throw new Error("Child state '".concat(a,"' does not exist on '").concat(this.id,"'"));return b};k.prototype.getStateNodeById=function(a){a=r(a)?a.slice(n.length):a;if(a===this.id)return this;var b=this.machine.idMap[a];if(!b)throw new Error("Child state node '#".concat(a,"' does not exist on machine '").concat(this.id,"'"));return b};k.prototype.getStateNodeByPath=function(a){if(typeof a==="string"&&r(a))try{return this.getStateNodeById(a.slice(1))}catch(a){}a=b.toStatePath(a,this.delimiter).slice();var c=this;while(a.length){var d=a.shift();if(!d.length)break;c=c.getStateNode(d)}return c};k.prototype.resolve=function(a){var c,d=this;if(!a)return this.initialStateValue||q;switch(this.type){case"parallel":return b.mapValues(this.initialStateValue,function(b,c){return b?d.getStateNode(c).resolve(a[c]||b):q});case"compound":if(b.isString(a)){var e=this.getStateNode(a);return e.type==="parallel"||e.type==="compound"?(c={},c[a]=e.initialStateValue,c):a}return!Object.keys(a).length?this.initialStateValue||{}:b.mapValues(a,function(a,b){return a?d.getStateNode(b).resolve(a):q});default:return a||q}};k.prototype.getResolvedPath=function(a){if(r(a)){var c=this.machine.idMap[a.slice(n.length)];if(!c)throw new Error("Unable to find state node '".concat(a,"'"));return c.path}return b.toStatePath(a,this.delimiter)};Object.defineProperty(k.prototype,"initialStateValue",{get:function(){var a;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var c;if(this.type==="parallel")c=b.mapFilterValues(this.states,function(a){return a.initialStateValue||q},function(a){return!(a.type==="history")});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));c=i.isLeafNode(this.states[this.initial])?this.initial:(a={},a[this.initial]=this.states[this.initial].initialStateValue,a)}else c={};this.__cache.initialStateValue=c;return this.__cache.initialStateValue},enumerable:!1,configurable:!0});k.prototype.getInitialState=function(a,b){this._init();a=this.getStateNodes(a);return this.resolveTransition({configuration:a,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,b!==null&&b!==void 0?b:this.machine.context,void 0)};Object.defineProperty(k.prototype,"initialState",{get:function(){var a=this.initialStateValue;if(!a)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(a)},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"target",{get:function(){var a;if(this.type==="history"){var c=this.config;b.isString(c.target)?a=r(c.target)?b.pathToStateValue(this.machine.getStateNodeById(c.target).path.slice(this.path.length-1)):c.target:a=c.target}return a},enumerable:!1,configurable:!0});k.prototype.getRelativeStateNodes=function(a,b,c){c===void 0&&(c=!0);return c?a.type==="history"?a.resolveHistory(b):a.initialStateNodes:[a]};Object.defineProperty(k.prototype,"initialStateNodes",{get:function(){var a=this;if(i.isLeafNode(this))return[this];if(this.type==="compound"&&!this.initial){g.IS_PRODUCTION||b.warn(!1,"Compound state node '".concat(this.id,"' has no initial state."));return[this]}var c=b.toStatePaths(this.initialStateValue);return b.flatten(c.map(function(b){return a.getFromRelativePath(b)}))},enumerable:!1,configurable:!0});k.prototype.getFromRelativePath=function(b){if(!b.length)return[this];b=a.__read(b);var c=b[0];b=b.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(c,"' from node with no states"));var d=this.getStateNode(c);if(d.type==="history")return d.resolveHistory();if(!this.states[c])throw new Error("Child state '".concat(c,"' does not exist on '").concat(this.id,"'"));return this.states[c].getFromRelativePath(b)};k.prototype.historyValue=function(a){return!Object.keys(this.states).length?void 0:{current:a||this.initialStateValue,states:b.mapFilterValues(this.states,function(c,d){if(!a)return c.historyValue();d=b.isString(a)?void 0:a[d];return c.historyValue(d||c.initialStateValue)},function(a){return!a.history})}};k.prototype.resolveHistory=function(a){var c=this;if(this.type!=="history")return[this];var d=this.parent;if(!a){var e=this.target;return e?b.flatten(b.toStatePaths(e).map(function(a){return d.getFromRelativePath(a)})):d.initialStateNodes}e=b.nestedPath(d.path,"states")(a).current;return b.isString(e)?[d.getStateNode(e)]:b.flatten(b.toStatePaths(e).map(function(a){return c.history==="deep"?d.getFromRelativePath(a):[d.states[a[0]]]}))};Object.defineProperty(k.prototype,"stateIds",{get:function(){var a=this,c=b.flatten(Object.keys(this.states).map(function(b){return a.states[b].stateIds}));return[this.id].concat(c)},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"events",{get:function(){var b,c,d,e;if(this.__cache.events)return this.__cache.events;var f=this.states,g=new Set(this.ownEvents);if(f)try{for(var h=a.__values(Object.keys(f)),i=h.next();!i.done;i=h.next()){var j=i.value;j=f[j];if(j.states)try{for(var k=(d=void 0,a.__values(j.events)),l=k.next();!l.done;l=k.next()){j=l.value;g.add("".concat(j))}}catch(a){d={error:a}}finally{try{l&&!l.done&&(e=k["return"])&&e.call(k)}finally{if(d)throw d.error}}}}catch(a){b={error:a}}finally{try{i&&!i.done&&(c=h["return"])&&c.call(h)}finally{if(b)throw b.error}}return this.__cache.events=Array.from(g)},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"ownEvents",{get:function(){var a=new Set(this.transitions.filter(function(a){return!(!a.target&&!a.actions.length&&a.internal)}).map(function(a){return a.eventType}));return Array.from(a)},enumerable:!1,configurable:!0});k.prototype.resolveTarget=function(a){var c=this;return a===void 0?void 0:a.map(function(a){if(!b.isString(a))return a;var d=a[0]===c.delimiter;if(d&&!c.parent)return c.getStateNodeByPath(a.slice(1));d=d?c.key+a:a;if(c.parent)try{a=c.parent.getStateNodeByPath(d);return a}catch(a){throw new Error("Invalid transition definition for state node '".concat(c.id,"':\n").concat(a.message))}else return c.getStateNodeByPath(d)})};k.prototype.formatTransition=function(c){var d=this,e=b.normalizeTarget(c.target),g="internal"in c?c.internal:e?e.some(function(a){return b.isString(a)&&a[0]===d.delimiter}):!0,h=this.machine.options.guards;e=this.resolveTarget(e);var i=a.__assign(a.__assign({},c),{actions:f.toActionObjects(b.toArray(c.actions)),cond:b.toGuard(c.cond,h),target:e,source:this,internal:g,eventType:c.event,toJSON:function(){return a.__assign(a.__assign({},i),{target:i.target?i.target.map(function(a){return"#".concat(a.id)}):void 0,source:"#".concat(d.id)})}});return i};k.prototype.formatTransitions=function(){var c,d,e=this,h;if(!this.config.on)h=[];else if(Array.isArray(this.config.on))h=this.config.on;else{var i=this.config.on,j=o,k=i[j];k=k===void 0?[]:k;var l=a.__rest(i,[typeof j==="symbol"?j:j+""]);h=b.flatten(Object.keys(l).map(function(a){!g.IS_PRODUCTION&&a===m&&b.warn(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(e.id,'".'));var c=b.toTransitionConfigArray(a,l[a]);g.IS_PRODUCTION||t(e,a,c);return c}).concat(b.toTransitionConfigArray(o,k)))}i=this.config.always?b.toTransitionConfigArray("",this.config.always):[];j=this.config.onDone?b.toTransitionConfigArray(String(f.done(this.id)),this.config.onDone):[];g.IS_PRODUCTION||b.warn(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));k=b.flatten(this.invoke.map(function(c){var d=[];c.onDone&&d.push.apply(d,a.__spreadArray([],a.__read(b.toTransitionConfigArray(String(f.doneInvoke(c.id)),c.onDone)),!1));c.onError&&d.push.apply(d,a.__spreadArray([],a.__read(b.toTransitionConfigArray(String(f.error(c.id)),c.onError)),!1));return d}));var n=this.after;j=b.flatten(a.__spreadArray(a.__spreadArray(a.__spreadArray(a.__spreadArray([],a.__read(j),!1),a.__read(k),!1),a.__read(h),!1),a.__read(i),!1).map(function(a){return b.toArray(a).map(function(a){return e.formatTransition(a)})}));try{for(var p=a.__values(n),q=p.next();!q.done;q=p.next()){k=q.value;j.push(k)}}catch(a){c={error:a}}finally{try{q&&!q.done&&(d=p["return"])&&d.call(p)}finally{if(c)throw c.error}}return j};return k}();Na.StateNode=v}var Qa=!1;function Ra(){Qa||(Qa=!0,Pa());return Oa.exports}var Sa={},Ta={exports:Sa};function Ua(){Object.defineProperty(Sa,"__esModule",{value:!0});var a=Ra(),b=E(),c=!1;function d(b,c,d){d===void 0&&(d=b.context);return new a.StateNode(b,c,d)}function e(d,e){!b.IS_PRODUCTION&&!("predictableActionArguments"in d)&&!c&&(c=!0);return new a.StateNode(d,e)}Sa.Machine=d;Sa.createMachine=e}var Va=!1;function Wa(){Va||(Va=!0,Ua());return Ta.exports}var Xa={},Ya={exports:Xa};function Za(){Object.defineProperty(Xa,"__esModule",{value:!0});var a=k(),b=J();function c(c,d){var e,f,g;try{for(var h=a.__values(Object.keys(c)),i=h.next();!i.done;i=h.next()){var j=i.value;b.matchesState(j,d)&&(!g||d.length>g.length)&&(g=j)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(f=h["return"])&&f.call(h)}finally{if(e)throw e.error}}return c[g]}Xa.mapState=c}var $a=!1;function ab(){$a||($a=!0,Za());return Ya.exports}var bb={},cb={exports:bb};function db(){Object.defineProperty(bb,"__esModule",{value:!0});var a=k(),b=ka();function c(c,d,e){var f,g;c=b.State.from(c,c instanceof b.State?c.context:void 0);try{for(var h=a.__values(d),i=h.next();!i.done;i=h.next()){d=a.__read(i.value,2);var j=d[0];d=d[1];if(c.matches(j))return d(c)}}catch(a){f={error:a}}finally{try{i&&!i.done&&(g=h["return"])&&g.call(h)}finally{if(f)throw f.error}}return e(c)}bb.matchState=c}var eb=!1;function fb(){eb||(eb=!0,db());return cb.exports}var gb={},hb={exports:gb};function ib(){Object.defineProperty(gb,"__esModule",{value:!0});function a(a){return a}var b=a;gb.createSchema=a;gb.t=b}var jb=!1;function kb(){jb||(jb=!0,ib());return hb.exports}var $={},lb={exports:$};function mb(){Object.defineProperty($,"__esModule",{value:!0});var a=O(),b=V(),c=Ha(),d=Wa(),e=ab(),f=fb(),g=kb(),h=ka(),i=Ra(),j=Da(),k=p(),l=J(),m=a.assign,n=a.send,o=a.sendTo,q=a.sendParent,r=a.sendUpdate,s=a.forwardTo,t=a.doneInvoke,u=a.raise;$.actions=a;$.toActorRef=b.toActorRef;$.Interpreter=c.Interpreter;Object.defineProperty($,"InterpreterStatus",{enumerable:!0,get:function(){return c.InterpreterStatus}});$.interpret=c.interpret;$.spawn=c.spawn;$.Machine=d.Machine;$.createMachine=d.createMachine;$.mapState=e.mapState;$.matchState=f.matchState;$.createSchema=g.createSchema;$.t=g.t;$.State=h.State;$.StateNode=i.StateNode;$.spawnBehavior=j.spawnBehavior;Object.defineProperty($,"ActionTypes",{enumerable:!0,get:function(){return k.ActionTypes}});Object.defineProperty($,"SpecialTargets",{enumerable:!0,get:function(){return k.SpecialTargets}});$.matchesState=l.matchesState;$.toEventObject=l.toEventObject;$.toObserver=l.toObserver;$.toSCXMLEvent=l.toSCXMLEvent;$.assign=m;$.doneInvoke=t;$.forwardTo=s;$.raise=u;$.send=n;$.sendParent=q;$.sendTo=o;$.sendUpdate=r}var nb=!1;function ob(){nb||(nb=!0,mb());return lb.exports}function b(a){switch(a){case void 0:return ob();case"/lib/utils":return J()}}e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("xstate-react-2.0.1",["react-0.0.0","xstate-4.35.2","use-isomorphic-layout-effect-1.1.2","use-subscription-1.8.0"],(function(a,b,c,d,e,f){"use strict";var g=b("react-0.0.0"),h=b("xstate-4.35.2"),i=b("use-isomorphic-layout-effect-1.1.2"),j=b("use-subscription-1.8.0"),k={},l={exports:k};function m(){Object.defineProperty(k,"__esModule",{value:!0}),k.ReactEffectType=void 0,(function(a){a[a.Effect=1]="Effect",a[a.LayoutEffect=2]="LayoutEffect"})(k.ReactEffectType||(k.ReactEffectType={}))}var n=!1;function o(){n||(n=!0,m());return l.exports}var p={},q={exports:p};function r(){Object.defineProperty(p,"__esModule",{value:!0});var a=g();function b(b){var c=a.useRef();c.current||(c.current={v:b()});return c.current.v}p["default"]=b}var s=!1;function t(){s||(s=!0,r());return q.exports}var u={},v={exports:u};function w(){var a=this&&this.__read||function(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e},b=this&&this.__values||function(a){var b=typeof Symbol==="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length==="number")return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0});u.getServiceSnapshot=u.partition=void 0;function c(c,d){var e,f,g=a([[],[]],2),h=g[0];g=g[1];try{for(var i=b(c),j=i.next();!j.done;j=i.next()){c=j.value;d(c)?h.push(c):g.push(c)}}catch(a){e={error:a}}finally{try{j&&!j.done&&(f=i["return"])&&f.call(i)}finally{if(e)throw e.error}}return[h,g]}u.partition=c;function d(a){return a.status!==0?a.state:a.machine.initialState}u.getServiceSnapshot=d}var x=!1;function y(){x||(x=!0,w());return v.exports}var z={},A={exports:z};function B(){var a=this&&this.__read||function(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e},b=this&&this.__spreadArray||function(a,b,c){if(c||arguments.length===2)for(var d=0,e=b.length,f;d<e;d++)(f||!(d in b))&&(f||(f=Array.prototype.slice.call(b,0,d)),f[d]=b[d]);return a.concat(f||Array.prototype.slice.call(b))};Object.defineProperty(z,"__esModule",{value:!0});z.useReactEffectActions=void 0;var c=g(),d=i(),e=o(),f=y();function h(a,b){var c=a.exec;c=c(b.context,b._event.data,{action:a,state:b,_event:b._event});c()}function j(g){var i=c.useRef([]),j=c.useRef([]);d["default"](function(){var c=g.subscribe(function(c){var d;if(c.actions.length){var g=c.actions.filter(function(a){return typeof a.exec==="function"&&"__effect"in a.exec});g=a(f.partition(g,function(a){return a.exec.__effect===e.ReactEffectType.Effect}),2);var h=g[0];g=g[1];(d=i.current).push.apply(d,b([],a(h.map(function(a){return[a,c]})),!1));(d=j.current).push.apply(d,b([],a(g.map(function(a){return[a,c]})),!1))}});return function(){c.unsubscribe()}},[]);d["default"](function(){while(j.current.length){var b=a(j.current.shift(),2),c=b[0];b=b[1];h(c,b)}});c.useEffect(function(){while(i.current.length){var b=a(i.current.shift(),2),c=b[0];b=b[1];h(c,b)}})}z.useReactEffectActions=j}var C=!1;function D(){C||(C=!0,B());return A.exports}var E={},F={exports:E};function G(){var a=this&&this.__assign||function(){a=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return a.apply(this,arguments)},b=this&&this.__rest||function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.indexOf(d)<0&&(c[d]=a[d]);if(a!=null&&typeof Object.getOwnPropertySymbols==="function")for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)b.indexOf(d[e])<0&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c},c=this&&this.__read||function(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e};Object.defineProperty(E,"__esModule",{value:!0});E.useInterpret=void 0;g();var d=i(),e=h(),f=t(),j=D();function k(a,b,c){if(typeof a==="object")return a;var d=function(){return void 0};return{next:a,error:b||d,complete:c||d}}function l(g){var h=[];for(var i=1;i<arguments.length;i++)h[i-1]=arguments[i];var l=c(h,2),m=l[0],n=m===void 0?{}:m,o=l[1],p=f["default"](function(){return typeof g==="function"?g():g}),q=n.context,r=n.guards,s=n.actions,t=n.services,u=n.delays,v=n.state,w=b(n,["context","guards","actions","services","delays","state"]),x=n.activities,y=f["default"](function(){var b={context:q,guards:r,actions:s,activities:x,services:t,delays:u};b=p.withConfig(b,function(){return a(a({},p.context),q)});return e.interpret(b,a({deferEvents:!0},w))});d["default"](function(){var a;o&&(a=y.subscribe(k(o)));return function(){a===null||a===void 0?void 0:a.unsubscribe()}},[o]);d["default"](function(){y.start(v?e.State.create(v):void 0);return function(){y.stop()}},[]);d["default"](function(){Object.assign(y.machine.options.actions,s),Object.assign(y.machine.options.guards,r),Object.assign(y.machine.options.activities,x),Object.assign(y.machine.options.services,t),Object.assign(y.machine.options.delays,u)},[s,r,x,t,u]);j.useReactEffectActions(y);return y}E.useInterpret=l}var H=!1;function I(){H||(H=!0,G());return F.exports}var J={},K={exports:J};function L(){var a=this&&this.__read||function(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e},b=this&&this.__spreadArray||function(a,b,c){if(c||arguments.length===2)for(var d=0,e=b.length,f;d<e;d++)(f||!(d in b))&&(f||(f=Array.prototype.slice.call(b,0,d)),f[d]=b[d]);return a.concat(f||Array.prototype.slice.call(b))};Object.defineProperty(J,"__esModule",{value:!0});J.useMachine=J.asLayoutEffect=J.asEffect=void 0;var c=g(),d=h(),e=o(),f=I();function i(c,d){var e=function(){var d=[];for(var e=0;e<arguments.length;e++)d[e]=arguments[e];return function(){return c.apply(void 0,b([],a(d),!1))}};Object.defineProperties(e,{name:{value:"effect:".concat(c.name)},__effect:{value:d}});return e}function j(a){return i(a,e.ReactEffectType.Effect)}J.asEffect=j;function k(a){return i(a,e.ReactEffectType.LayoutEffect)}J.asLayoutEffect=k;function l(b){var e=[];for(var g=1;g<arguments.length;g++)e[g-1]=arguments[g];var h=a(e,1),i=h[0],j=i===void 0?{}:i,k=c.useCallback(function(a){var b=a.changed===void 0&&Object.keys(a.children).length;(a.changed||b)&&o(a)},[]),l=f.useInterpret(b,j,k),m=a(c.useState(function(){var a=l.machine.initialState;return j.state?d.State.create(j.state):a}),2),n=m[0],o=m[1];return[n,l.send,l]}J.useMachine=l}var M=!1;function N(){M||(M=!0,L());return K.exports}var O={},P={exports:O};function Q(){var a=this&&this.__read||function(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e};Object.defineProperty(O,"__esModule",{value:!0});O.useActor=O.isActorWithState=void 0;var b=g(),c=i(),d=t();function e(a){return"state"in a}O.isActorWithState=e;function f(a){return"deferred"in a}var h=function(){};function j(a){return"getSnapshot"in a?a.getSnapshot():e(a)?a.state:void 0}function k(e,g){g===void 0&&(g=j);var i=b.useRef(e),k=b.useRef([]),l=a(b.useState(function(){return g(e)}),2),m=l[0],n=l[1];l=d["default"](function(){return function(){var a=[];for(var b=0;b<arguments.length;b++)a[b]=arguments[b];var c=a[0],d=i.current;f(d)&&d.deferred?k.current.push(c):d.send(c)}});c["default"](function(){i.current=e;n(g(e));var a=e.subscribe({next:function(a){return n(a)},error:h,complete:h});while(k.current.length>0){var b=k.current.shift();e.send(b)}return function(){a.unsubscribe()}},[e]);return[m,l]}O.useActor=k}var R=!1;function S(){R||(R=!0,Q());return P.exports}var T={},U={exports:T};function V(){Object.defineProperty(T,"__esModule",{value:!0});T.useSelector=void 0;var a=g(),b=j(),c=i(),d=S(),e=y();function f(a){return"state"in a&&"machine"in a}var h=function(a,b){return a===b},k=function(a){return f(a)?e.getServiceSnapshot(a):d.isActorWithState(a)?a.state:void 0};function l(d,e,f,g){f===void 0&&(f=h);g===void 0&&(g=k);var i=a.useRef(e),j=a.useMemo(function(){var a=g(d),b=e(a),c;return{getSnapshot:function(){return a},getCurrentValue:function(){return b},setCurrentValue:function(a){b=a,c===null||c===void 0?void 0:c()},subscribe:function(e){c=e;var g=d.subscribe(function(c){a=c;c=i.current(c);f(b,c)||(b=c,e())});return function(){g.unsubscribe()}}}},[d]),l=b.useSubscription(j),m=!1;if(i.current!==e){var n=e(j.getSnapshot());f(l,n)||(m=!0,l=n)}c["default"](function(){i.current=e,m&&j.setCurrentValue(l)});return l}T.useSelector=l}var W=!1;function aa(){W||(W=!0,V());return U.exports}var X={},ba={exports:X};function ca(){Object.defineProperty(X,"__esModule",{value:!0});X.useSpawn=void 0;var a=h(),b=t();function c(c){var d=b["default"](function(){return a.spawnBehavior(c)});return d}X.useSpawn=c}var Y=!1;function da(){Y||(Y=!0,ca());return ba.exports}var Z={},ea={exports:Z};function fa(){Object.defineProperty(Z,"__esModule",{value:!0});Z.useSpawn=Z.useSelector=Z.useInterpret=Z.useActor=Z.asLayoutEffect=Z.asEffect=Z.useMachine=void 0;var a=N();Object.defineProperty(Z,"useMachine",{enumerable:!0,get:function(){return a.useMachine}});Object.defineProperty(Z,"asEffect",{enumerable:!0,get:function(){return a.asEffect}});Object.defineProperty(Z,"asLayoutEffect",{enumerable:!0,get:function(){return a.asLayoutEffect}});var b=S();Object.defineProperty(Z,"useActor",{enumerable:!0,get:function(){return b.useActor}});var c=I();Object.defineProperty(Z,"useInterpret",{enumerable:!0,get:function(){return c.useInterpret}});var d=aa();Object.defineProperty(Z,"useSelector",{enumerable:!0,get:function(){return d.useSelector}});var e=da();Object.defineProperty(Z,"useSpawn",{enumerable:!0,get:function(){return e.useSpawn}})}var $=!1;function ga(){$||($=!0,fa());return ea.exports}function a(a){switch(a){case void 0:return ga()}}e.exports=a}),null);
__d("xstate-react",["xstate-react-2.0.1"],(function(a,b,c,d,e,f){e.exports=b("xstate-react-2.0.1")()}),null);
__d("xstate",["xstate-4.35.2"],(function(a,b,c,d,e,f){e.exports=b("xstate-4.35.2")()}),null);