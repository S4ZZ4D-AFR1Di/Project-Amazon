;/*FB_PKG_DELIM*/

__d("CometUFIInlineTypingIndicator_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometUFIInlineTypingIndicator_renderer$normalization",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]};e.exports=a}),null);
__d("CometUFIInlineTypingIndicator_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIInlineTypingIndicator_renderer",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"XFBFeedbackInlineTypingIndicatorRenderer",abstractKey:null};e.exports=a}),null);
__d("useCometUFITypingIndicatorSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6244071592353504"}),null);
__d("useCometUFITypingIndicatorSubscription.graphql",["useCometUFITypingIndicatorSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,concreteType:"FeedbackTypersConnection",kind:"LinkedField",name:"feedback_typers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"other_count",storageKey:null}],storageKey:null},e=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d],storageKey:null}];d=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useCometUFITypingIndicatorSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_typing_subscribe",plural:!1,selections:[{kind:"InlineFragment",selections:e,type:"FeedbackStartTypingResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:e,type:"FeedbackStopTypingResponsePayload",abstractKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCometUFITypingIndicatorSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_typing_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:d,type:"FeedbackStartTypingResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:d,type:"FeedbackStopTypingResponsePayload",abstractKey:null}],storageKey:null}]},params:{id:b("useCometUFITypingIndicatorSubscription_facebookRelayOperation"),metadata:{subscriptionName:"feedback_typing_subscribe"},name:"useCometUFITypingIndicatorSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("useCometUFITypingIndicatorSubscription",["CometRelay","react","useBoolean","useCometUFITypingIndicatorSubscription.graphql","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useMemo,l=e.useRef,m=h!==void 0?h:h=b("useCometUFITypingIndicatorSubscription.graphql"),n=15*1e3;function a(a){var b=a.feedbackID;a=c("useBoolean")(!1);var e=a.set;a=a.value;var f=c("useBoolean")(!1),g=f.set;f=f.value;var h=l(null),i=k(function(){return{onNext:function(a){a=(a=a==null?void 0:(a=a.feedback_typing_subscribe)==null?void 0:(a=a.feedback)==null?void 0:(a=a.feedback_typers)==null?void 0:a.other_count)!=null?a:0;window.clearTimeout(h.current);a>0&&(e(!0),h.current=window.setTimeout(function(){return e(!1)},n));e(!1)},subscription:m,variables:{input:{feedback_id:b}}}},[b,e]);d("CometRelay").useSubscription(i);i=j(function(a){a=a.hiddenReason;a!=="COMPONENT_UNMOUNTED"&&g(!1)},[g]);var o=j(function(){return g(!0)},[g]);i=c("useVisibilityObserver")({onHidden:i,onVisible:o});return{isTyping:a,isVisible:f,ref:i}}g["default"]=a}),98);
__d("CometUFIInlineTypingIndicator.react",["fbt","CometProgressIndicator.react","CometRelay","CometUFIInlineTypingIndicator_renderer.graphql","TetraText.react","react","stylex","unrecoverableViolation","useCometUFITypingIndicatorSubscription"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m={hidden:{marginTop:"x11xss2o",$$css:!0},progressIndicator:{display:"x78zum5",justifyContent:"xl56j7k",marginEnd:"xktsk01",marginLeft:null,marginRight:null,marginStart:"x1mnrxsn",$$css:!0},root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},row:{alignItems:"x6s0dn4",display:"x78zum5",height:"x10w6t97",justifyContent:"x1nhvcw1",transition:"x1n13y8y",$$css:!0},visible:{marginTop:"xdj266r",$$css:!0}};function a(a){a=a.renderer;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIInlineTypingIndicator_renderer.graphql"),a);a=a.feedback;a=a==null?void 0:a.id;if(a==null)throw c("unrecoverableViolation")("CometUFIInlineTypingIndicator expected to have valid feedback target","modern-ufi");a=c("useCometUFITypingIndicatorSubscription")({feedbackID:a});var e=a.isTyping,f=a.isVisible;a=a.ref;e=e&&f;return l.jsx("div",{className:"x6ikm8r x10wlt62",ref:a,children:l.jsxs("div",{className:(j||(j=c("stylex")))(m.row,!e&&m.hidden,e&&m.visible),children:[l.jsx("div",{className:"x78zum5 xl56j7k xktsk01 x1mnrxsn",children:l.jsx(c("CometProgressIndicator.react"),{disableLoadingStateTracker:!0,size:"small"})}),e?l.jsx(c("TetraText.react"),{type:"meta1",children:h._("__JHASH__ZU2aliZujIg__JHASH__")}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);