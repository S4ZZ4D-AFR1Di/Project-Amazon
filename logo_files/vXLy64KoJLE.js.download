;/*FB_PKG_DELIM*/

__d("CometFriendsFeedResharesDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9784532998288014"}),null);
__d("CometFriendsFeedResharesDialogQuery$Parameters",["CometFriendsFeedResharesDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometFriendsFeedResharesDialogQuery_facebookRelayOperation"),metadata:{},name:"CometFriendsFeedResharesDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometGroupResharesDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24876198298645766"}),null);
__d("CometGroupResharesDialogQuery$Parameters",["CometGroupResharesDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometGroupResharesDialogQuery_facebookRelayOperation"),metadata:{},name:"CometGroupResharesDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFIShareViaWhatsAppShareMenuItem_shareItem$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometUFIShareViaWhatsAppShareMenuItem_shareItem$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_share_api_url",storageKey:null}]};e.exports=a}),null);
__d("CometUFIShareViaWhatsAppShareMenuItem_shareItem.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareViaWhatsAppShareMenuItem_shareItem",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_share_api_url",storageKey:null}],type:"WhatsAppExternalShareMenuItem",abstractKey:null};e.exports=a}),null);
__d("FeedShareActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("604");b=d("FalcoLoggerInternal").create("feed_share_action",a);e=b;g["default"]=e}),98);
__d("useGroupsCometSharePostEventsClickCallback",["FeedShareActionFalcoEvent","react","useShareLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.shareType==null?"":a.shareType,d=c("useShareLogger")(),e=d.onOpenSharesheetButtonClicked;return i(function(){c("FeedShareActionFalcoEvent").log(function(){return{entry_point:a.shareEntryPoint,share_source_feed_type:a.shareSourceFeedType,share_type:b,shareable_id:a.shareableID}}),e({entry_point:a.shareEntryPoint,shareable_entity_fbid:a.shareableID,sharing_component_name:"ufi_share_button"})},[e,a.shareEntryPoint,a.shareableID,a.shareSourceFeedType,b])}g["default"]=a}),98);
__d("feedStoryLiveInsertUpdater",["CometNewsFeedConnectionHandler","CometRelay","cometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=a.getRootField("story_create");e=e&&e.getLinkedRecord("feed_story_edge");var f=a.get(d("CometRelay").VIEWER_ID);if(!f)return;f=d("CometNewsFeedConnectionHandler").getConnection(f,"CometNewsFeed_viewer_news_feed",{feed_style:"DEFAULT",orderby:["TOP_STORIES"]});if(!f)return;var g=f.getLinkedRecords("edges");if(g)for(var g=g,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;if(j&&j.getValue("deduplication_key")===b)return}j=d("CometNewsFeedConnectionHandler").buildConnectionEdge(a,f,e,c("cometUniqueID")());j&&(j.setValue(b,"deduplication_key"),j.setValue("ORGANIC","category"),j.setValue("1","min_gap_type_index_string"),d("CometNewsFeedConnectionHandler").insertEdgeBefore(f,j))}g["default"]=a}),98);
__d("CometFriendsFeedResharesDialog.entrypoint",["CometFriendsFeedResharesDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.storyData;a=a.url;return{extraProps:{storyData:c,url:a},queries:{resharesQueryReference:{parameters:b("CometFriendsFeedResharesDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get(),url:a}}}}},root:c("JSResourceForInteraction")("CometFriendsFeedResharesDialog.react").__setRef("CometFriendsFeedResharesDialog.entrypoint")};g["default"]=a}),98);
__d("CometGroupResharesDialog.entrypoint",["CometGroupResharesDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.adminGroupOnly,e=a.feedLocation,f=a.initialQueryString,g=a.shareableID,h=a.storyData;a=a.url;return{extraProps:{adminGroupOnly:c,feedLocation:e,initialQueryString:f,shareableID:g,storyData:h,url:a},queries:{resharesQueryReference:{parameters:b("CometGroupResharesDialogQuery$Parameters"),variables:{adminGroupOnly:c,hasLinkedGroups:!0,isCommerce:(e=h==null?void 0:h.isCommerce)!=null?e:!1,scale:d("WebPixelRatio").get(),shareableID:g,url:a}}}}},root:c("JSResourceForInteraction")("CometGroupResharesDialog.react").__setRef("CometGroupResharesDialog.entrypoint")};e=a;g["default"]=e}),98);
__d("useCometFeedToGroupReshareV2",["CometGroupResharesDialog.entrypoint","react","useCometEntryPointDialog","useUnifiedShareSheetLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(a){var b=a.adminGroupOnly,d=a.feedLocation,e=a.initialQueryString,f=a.shareableID,g=a.storyData;a=a.url;b={adminGroupOnly:b,feedLocation:d,initialQueryString:e,shareableID:f,storyData:g,url:a};e=c("useUnifiedShareSheetLogger")();var h=e.onShareOptionSelected;g=i(null);a=c("useCometEntryPointDialog")(c("CometGroupResharesDialog.entrypoint"),b);var j=a[0];function k(){j({}),h({entry_point:d,shareable_entity_fbid:f,sharing_action_audience:"public",sharing_action_destination:"groups",sharing_component_name:"share_in_groups"})}return{onClick:k,triggerRef:g}}g["default"]=a}),98);
__d("useCometResharesToasts",["fbt","ix","SilenceableErrorMessageUtils","TetraIcon.react","cometPushToast","fbicon","react","useCometRouterDispatcher","useNullthrowsViolation","useToasterStateManager"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useCallback,m="CometStoriesReshareToast";function a(a){var b=c("useToasterStateManager")(),e=c("useNullthrowsViolation")(c("useCometRouterDispatcher")()),f=l(function(f){var g=k.jsx(c("TetraIcon.react"),{color:"positive",icon:d("fbicon")._(i("498146"),20),size:20}),j=f!=null?{label:h._("__JHASH__SB5t9wP-DlC__JHASH__"),onPress:function(){e.go(f,{})}}:void 0;d("cometPushToast").cometPushToast({action:j,icon:g,message:a,testid:m},void 0,b)},[b,e,a]),g=l(function(a,c,e){if(a!=null){a=d("SilenceableErrorMessageUtils").getMetadataFromError(a);if(d("SilenceableErrorMessageUtils").shouldHideErrorMessage(a))return}a=c!=null?d("cometPushToast").cometPushToast:d("cometPushToast").cometPushErrorToast;a({icon:c,message:e?h._("__JHASH__Gg9tHFaojpv__JHASH__"):h._("__JHASH__QKJj6FsLHJQ__JHASH__"),onPress:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){e&&e()}),testid:m},void 0,b)},[b]),j=l(function(){d("cometPushToast").cometPushToast({message:h._("__JHASH__lvbk0C0HrxQ__JHASH__"),testid:m},void 0,b)},[b]);return{showErrorToast:g,showPostingToast:j,showSuccessToast:f}}g["default"]=a}),98);
__d("CometUFIShareViaWhatsAppShareMenuItem.react",["fbt","CometBlueprintIcons","CometExternalShareTracking","CometIcon.react","CometListCellPressable.react","CometListCellText.react","CometRelay","CometUFIShareViaWhatsAppShareMenuItem_shareItem.graphql","CometUnauthenticatedUFIUtils","TetraListCell.react","asyncToGeneratorRuntime","promiseDone","react","recoverableViolation","requireDeferred","useGroupsCometSharePostEventsClickCallback","useUnifiedShareSheetLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useCallback,m=c("requireDeferred")("ExternalShareTrackingEventFalcoEvent").__setRef("CometUFIShareViaWhatsAppShareMenuItem.react"),n=c("requireDeferred")("ShareMetricsLoggingController").__setRef("CometUFIShareViaWhatsAppShareMenuItem.react"),o=d("CometExternalShareTracking").shouldEnableExternalShareOptionsTracking();function a(a){var e=a.feedLocation,f=a.onBeforeOpen,g=a.onClose,j=a.shareableID,p=a.shareItem,q=a.shareSourceFeedType,r=a.shareType;a=a.url;p=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIShareViaWhatsAppShareMenuItem_shareItem.graphql"),p);var s=(p=p.external_share_api_url)!=null?p:d("CometExternalShareTracking").getWhatsAppShareURL(a);o&&(s=d("CometExternalShareTracking").getExternalShareURLWithMiBExtID(s,"share_to_whatsapp",e));p="send_in_whatsapp";var t=j!==""&&d("CometUnauthenticatedUFIUtils").shouldShowLoggedOutShareOptions(q),u=c("useGroupsCometSharePostEventsClickCallback")({shareableID:j,shareEntryPoint:p,shareSourceFeedType:q,shareType:r}),v=l(function(){if(s!=null&&o){var a=new URL(s).searchParams.get("text");m.onReady(function(b){b.log(function(){var b;return{content_location:e,entry_point:"agnostic_share_dropdown_entrypoint",intent:"share_to_whatsapp",url:(b=a)!=null?b:""}})})}},[s]);a=c("useUnifiedShareSheetLogger")();var w=a.onShareOptionSelected;if(s==null)return c("recoverableViolation")("External share URL for CometUFIShareViaWhatsAppShareMenuItem was null","comet_feed");var x=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){f!=null&&(yield f()),n.onReady(function(a){a.logShareFunnelEvent({fb_entry_point:"share_to_whatsapp",fb_feed_location:e,fb_share_type:"share_option_selected",shareable_id:j})}),w({entry_point:e,shareable_entity_fbid:j,sharing_action_audience:"private",sharing_action_destination:"whatsapp",sharing_component_name:"share_to_whatsapp_button"}),t&&u(),v(),g()});return function(){return a.apply(this,arguments)}}();p=d("CometUnauthenticatedUFIUtils").shouldShowLoggedOutShareOptions(q)?h._("__JHASH__5fM98VgoVqC__JHASH__"):h._("__JHASH__fj5OkPKIsBx__JHASH__");if(d("CometUnauthenticatedUFIUtils").shouldShowLoggedOutShareOptions(q))return k.jsx(c("CometListCellPressable.react"),{addOnStart:k.jsx(c("CometIcon.react"),{icon:d("CometBlueprintIcons").getUFIOutlinedAppWhatsappIcon()}),content:k.jsx(c("CometListCellText.react"),{headline:p,headlineLineLimit:1}),level:4,linkProps:{target:"_blank",url:s},onPress:function(){return c("promiseDone")(x())},paddingHorizontal:4,paddingVertical:4});else return k.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("CometBlueprintIcons").getUFIOutlinedAppWhatsappIcon(),type:"icon"},headline:p,headlineLineLimit:1,level:4,linkProps:{target:"_blank",url:s},onPress:function(){return c("promiseDone")(x())},size:"small"})}a.displayName=a.name+" [from "+f.id+"]";e=k.memo(a);g["default"]=e}),98);